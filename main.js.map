{"version":3,"file":"main.js","mappings":"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AAA,EAJrB;EAAM;;;;;;;;;;;;;;;;;;;ACJb,MAAM7G,SAAS,GAAG,yBAAyB;AAC3C,MAAMmd,SAAS,GAAG,gBAAgB;AAClC,MAAMC,SAAS,GAAG,GAAG;AACrB,MAAMC,WAAW,GAAG,IAAI;;;;;;;;;;;;;;;ACH/B;AACA;AACA;AAEO,MAAMrO,WAAW,GAAG;EACzBkB,UAAU,EAAE;CACb;AAED;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACf+C;AAGF;AACY;AAEzD,IAAIlB,kEAAW,CAACkB,UAAU,EAAE;EAC1B+lB,6DAAc,EAAE;;AAGlBC,sEAAA,EAAwB,CAACE,eAAe,CAACxmB,sDAAS,CAAC,CAChD8S,KAAK,CAAC5H,GAAG,IAAIta,OAAO,CAAC+Z,KAAK,CAACO,GAAG,CAAC,CAAC;;;;;;;;;;ACXnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./src/app/api.service.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/appointment/appointment.component.ts","./src/app/appointment/appointment.component.html","./src/app/auth-guard.service.ts","./src/app/auth.service.ts","./src/app/business-hours/business-hours.component.ts","./src/app/business-hours/business-hours.component.html","./src/app/clinics/clinics.component.ts","./src/app/clinics/clinics.component.html","./src/app/contact-us/contact-us.component.ts","./src/app/contact-us/contact-us.component.html","./src/app/decimal.pipe.ts","./src/app/entities/entities.component.ts","./src/app/entities/entities.component.html","./src/app/geo-location.service.ts","./src/app/lang.pipe.ts","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/material.module.ts","./src/app/minutes.pipe.ts","./src/app/my-appointments/my-appointments.component.ts","./src/app/my-appointments/my-appointments.component.html","./src/app/not-supported/not-supported.component.ts","./src/app/not-supported/not-supported.component.html","./src/app/pipes/hours-minutes-seconds.pipe.ts","./src/app/pipes/pipes.module.ts","./src/app/pipes/time-format.pipe.ts","./src/app/pipes/truncate.pipe.ts","./src/app/properties.ts","./src/app/queue-status/queue-status.component.ts","./src/app/queue-status/queue-status.component.html","./src/app/reach-us/reach-us.component.ts","./src/app/reach-us/reach-us.component.html","./src/app/services/services.component.ts","./src/app/services/services.component.html","./src/app/take-queue/take-queue.component.ts","./src/app/take-queue/take-queue.component.html","./src/app/time24to12-format.pipe.ts","./src/app/title-bar.service.ts","./src/app/web-notification.service.ts","./src/env.properties.demo.ts","./src/environments/environment.ts","./src/main.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$"],"sourcesContent":["import { Injectable, Inject } from \"@angular/core\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\n\nimport { sURL } from \"../app/properties\";\nimport { sIMAGE_URL } from \"../app/properties\";\nimport { Global_Variables } from \"../app/properties\";\nimport { sEndPoint } from \"../env.properties\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class APIService {\n  static instance: APIService;\n\n  getUserID() {\n    return Global_Variables.iUserID;\n  }\n  getUserType() {\n    return Global_Variables.sUserType;\n  }\n\n  constructor(@Inject(HttpClient) public http: HttpClient) {\n    console.log(\"END POINT********\", sEndPoint)\n  }\n\n  mergeJSON(target: any, add: any) {\n    function isObject(obj:any) {\n      if (typeof obj == \"object\") {\n        for (var k in obj) {\n          if (obj.hasOwnProperty(k)) {\n            return true; // search for first object prop\n          }\n        }\n      }\n      return false;\n    }\n    for (var key in add) {\n      if (add.hasOwnProperty(key)) {\n        if (target[key] && isObject(target[key]) && isObject(add[key])) {\n          this.mergeJSON(target[key], add[key]);\n        } else {\n          target[key] = add[key];\n        }\n      }\n    }\n    return target;\n  }\n\n  performLogin(sService: string, data: any): Promise<any> {\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    return this.http.post(sEndPoint + sService, data).toPromise();\n    //      .map(res => res.json()).toPromise();\n  }\n  getHeaders(): any {\n    // console.log(\"*** Setting Header Token: \", Global_Variables.token?.['access_token']);\n    var oHeaders = new HttpHeaders({\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": \"Bearer \" + Global_Variables.token?.['access_token'],\n      // \"ks-x-authorization\": \"Bearer: \" + Global_Variables.token?.['access_token'],\n    });\n    return { headers: oHeaders };\n  }\n  // async showNetworkError() {\n  //   this.alertCtrl.create({\n  //     message: 'No Network',\n  //     subHeader: 'Pls check internet connection',\n  //     buttons: ['Dismiss']\n  //   }).then(alert => alert.present() );\n  // }\n  send2Server(url: string, bPost: boolean = false, oItem: any = null): any {\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    if (bPost) {\n      return this.http.post(url, oItem, this.getHeaders()).toPromise();\n      //   .map(res => res.json()).toPromise();\n      // return this.http.post(sURL, oItem, this.getHeaders())\n      //   .map(res => res.json()).toPromise();\n    }\n    return this.http.get(url, this.getHeaders()).toPromise();\n    // return this.http.get(sURL, this.getHeaders())\n    //   .map(res => res.json()).toPromise();\n  }\n\n  getURL() {\n    return sURL + Global_Variables.iUserID + \"/\";\n  }\n\n  send2ServerNoHeader(\n    url: string,\n    bPost: boolean = false,\n    oItem: any = null\n  ): any {\n    if (bPost) {\n      return this.http.post(url, oItem).toPromise();\n    }\n    return this.http.get(url).toPromise();\n  }\n  send2ServerC(\n    sPartialURL: string,\n    bPost: boolean = false,\n    oItem: any = null\n  ): any {\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    if (bPost) {\n      return this.http\n        .post(sURL + sPartialURL, oItem, this.getHeaders())\n        .toPromise();\n      // return this.http.post(sURL + sPartialURL, oItem, this.getHeaders())\n      //   .map(res => res.json()).toPromise();\n    }\n    return this.http.get(sURL + sPartialURL, this.getHeaders()).toPromise();\n    // return this.http.get(sURL + sPartialURL, this.getHeaders())\n    //   .map(res => res.json()).toPromise();\n  }\n\n  send2ServerP(\n    sPartialURL: string,\n    bPost: boolean = false,\n    oItem: any = null\n  ): any {\n    console.log(sPartialURL);\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    if (bPost) {\n      return this.http\n        .post(this.getURL() + sPartialURL, oItem, this.getHeaders())\n        .toPromise();\n      // return this.http.post(this.getURL() + sPartialURL, oItem, this.getHeaders())\n      //   .map(res => res.json()).toPromise();\n    }\n    return this.http\n      .get(this.getURL() + sPartialURL, this.getHeaders())\n      .toPromise();\n    // return this.http.get(this.getURL() + sPartialURL, this.getHeaders())\n    //   .map(res => res.json()).toPromise();\n  }\n\n  send2ServerPlainText(\n    sPartialURL: string,\n    bPost: boolean = false,\n    oItem: any = null\n  ): any {\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    if (bPost) {\n      return this.http\n        .post(this.getURL() + sPartialURL, oItem, this.getHeaders())\n        .toPromise();\n    }\n    return this.http\n      .get(this.getURL() + sPartialURL, this.getHeaders())\n      .toPromise();\n  }\n\n  fileUpload(sUrl: string, formData: any): any {\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    let headers = new Headers();\n    headers.append(\"Content-Type\", \"multipart/form-data\");\n    headers.append(\"enctype\", \"multipart/form-data\");\n    headers.append(\"Accept\", \"application/json\");\n    console.log(formData);\n    //    let options = new RequestOptions({ headers: headers });\n    return new Promise((resolve, reject) => {\n      var xhr = new XMLHttpRequest();\n      // for(var i = 0; i < files.length; i++) {\n      //     formData.append(\"uploads[]\", files[i], files[i].name);\n      // }\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n          if (xhr.status == 200) {\n            //            console.log(xhr.response);\n            resolve(xhr.response);\n          } else {\n            reject(xhr.response);\n          }\n        }\n      };\n      //path = 'upload/' ;\n      xhr.open(\"POST\", sUrl, true);\n      xhr.send(formData);\n    });\n  }\n  buildImageURL(oItem: any, i: number = -1) {\n    let img = oItem.IMAGE_URL;\n    if (img === undefined || img === null) return \"\";\n    if (img.startsWith(\"http://\") || img.startsWith(\"https://\")) return img;\n    if (i != -1) return sIMAGE_URL + i + \"/\" + img;\n    return sIMAGE_URL + oItem.ID + \"/\" + img;\n  }\n  sort(oData: any, oFields: any) {\n    // this.oAPIService.sort ( this.oItems, [{field: 'PICKUPON', direction: 'desc' }, {field: 'PICKUPSTART', direction: 'desc' }, {field: 'BOOKINGREF', direction: 'desc'}]) ;\n    oData.sort(function (a:any, b:any) {\n      for (var i = 0; i < oFields.length; i++) {\n        var retval =\n          a[oFields[i].field] < b[oFields[i].field]\n            ? -1\n            : a[oFields[i].field] > b[oFields[i].field]\n            ? 1\n            : 0;\n        if (oFields[i].direction == \"desc\") {\n          retval = retval * -1;\n        }\n        if (retval !== 0) {\n          return retval;\n        }\n      }\n      return 0\n    });\n  }\n  stringToDate(_date: string, _format: string, _delimiter: string) {\n    // stringToDate(\"17/9/2014\",\"dd/MM/yyyy\",\"/\");\n    // stringToDate(\"9/17/2014\",\"mm/dd/yyyy\",\"/\")\n\n    var formatLowerCase = _format.toLowerCase();\n    var formatItems = formatLowerCase.split(_delimiter);\n    var dateItems = _date.split(_delimiter);\n    var monthIndex = formatItems.indexOf(\"mm\");\n    var dayIndex = formatItems.indexOf(\"dd\");\n    var yearIndex = formatItems.indexOf(\"yyyy\");\n    var month = parseInt(dateItems[monthIndex]);\n    month -= 1;\n    var formatedDate = new Date(\n      parseInt(dateItems[yearIndex]),\n      month,\n      parseInt(dateItems[dayIndex])\n    );\n    return formatedDate;\n  }\n  setTime(oDate: Date, sTime: string) {\n    //       tests = ['01.25 PM', '01:25pm', '1:25 PM', '11.35 PM', '12.45 PM', '01.25 AM', '11.35 AM', '12.45 AM'],\n    var timeReg = /(\\d+)[\\.|:](\\d+)\\s?(\\w+)/;\n    var parts:any = sTime.match(timeReg);\n    var hours = /am/i.test(parts[3])\n      ? (function (am) {\n          return am < 12 ? am : 0;\n        })(parseInt(parts[1], 10))\n      : (function (pm) {\n          return pm < 12 ? pm + 12 : 12;\n        })(parseInt(parts[1], 10));\n    var minutes = parseInt(parts[2], 10);\n    oDate.setHours(hours);\n    oDate.setMinutes(minutes);\n    oDate.setSeconds(0);\n    return oDate;\n  }\n  setTime24Hrs(oDate: Date, sTime: string): Date {\n    var s = sTime.split(\":\");\n    var hours = parseInt(s[0]);\n    var minutes = parseInt(s[1]);\n    oDate.setHours(hours);\n    oDate.setMinutes(minutes);\n    return oDate;\n  }\n  /*\n    isFuture(date): boolean {\n      return date.diff(moment.now()) > 0;\n    }\n    isTodayOrFuture(date) {\n      date = this.stripTime(date);\n      return date.diff(this.stripTime(moment.now())) >= 0;\n    }\n  \n    stripTime(date) {\n      date = moment(date);\n      date.hours(0);\n      date.minutes(0);\n      date.seconds(0);\n      date.milliseconds(0);\n      return date;\n    }\n  */\n}\n","import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\nimport { LoginComponent } from \"./login/login.component\";\n\nimport { AuthGuardService } from \"./auth-guard.service\";\nimport { EntitiesComponent } from \"./entities/entities.component\";\nimport { ServicesComponent } from \"./services/services.component\";\nimport { BusinessHoursComponent } from \"./business-hours/business-hours.component\";\nimport { MyAppointmentsComponent } from \"./my-appointments/my-appointments.component\";\nimport { QueueStatusComponent } from \"./queue-status/queue-status.component\";\nimport { AppointmentComponent } from \"./appointment/appointment.component\";\nimport { ContactUsComponent } from \"./contact-us/contact-us.component\";\nimport { ReachUsComponent } from \"./reach-us/reach-us.component\";\nimport { TakeQueueComponent } from \"./take-queue/take-queue.component\";\nimport { ClinicsComponent } from \"./clinics/clinics.component\";\nimport { NotSupportedComponent } from \"./not-supported/not-supported.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: LoginComponent,\n  },\n  {\n    path: \"login\",\n    component: LoginComponent,\n  },\n  {\n    path: \"not_supported\",\n    component: NotSupportedComponent,\n  },\n  {\n    path: \"clinics\",\n    component: ClinicsComponent,\n    canActivate: [AuthGuardService],\n  },\n  {\n    path: \"entities\",\n    component: EntitiesComponent,\n    canActivate: [AuthGuardService],\n  },\n  {\n    path: \"services\",\n    component: ServicesComponent,\n    canActivate: [AuthGuardService],\n  },\n  {\n    path: \"businesshours\",\n    component: BusinessHoursComponent,\n    canActivate: [AuthGuardService],\n  },\n  {\n    path: \"queuestatus\",\n    component: QueueStatusComponent,\n    canActivate: [AuthGuardService],\n  },\n  {\n    path: \"appointment\",\n    component: AppointmentComponent,\n    canActivate: [AuthGuardService],\n  },\n  {\n    path: \"myappointments\",\n    component: MyAppointmentsComponent,\n    canActivate: [AuthGuardService],\n  },\n  {\n    path: \"contactus\",\n    component: ContactUsComponent,\n  },\n  {\n    path: \"reachus\",\n    component: ReachUsComponent,\n  },\n  {\n    path: \"takequeue\",\n    component: TakeQueueComponent,\n  },\n  {\n    path: \"**\",\n    redirectTo: \"/login\",\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { Component } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { SwPush, SwUpdate } from '@angular/service-worker';\nimport { WebNotificationService } from './web-notification.service';\nimport { MatIconRegistry } from \"@angular/material/icon\";\nimport { DomSanitizer, Meta } from \"@angular/platform-browser\";\n// import { Global_Variables } from '../app/properties';\n// import { v4 as uuidv4 } from 'uuid';\nimport { TitleBarService } from '../app/title-bar.service';\nimport { DeviceDetectorService } from 'ngx-device-detector';\nimport { Global_Variables } from \"../app/properties\";\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  sTitle = 'qmobile';\n  sMqttStatus = '';\n  isEnabled = this.swPush.isEnabled;\n  isGranted = Notification.permission === 'granted';\n  constructor(private oTBS: TitleBarService,\n    private activatedRoute: ActivatedRoute,\n    private matIconRegistry: MatIconRegistry,\n    private domSanitizer: DomSanitizer,\n    private metaTagService: Meta,\n    private router: Router, private swPush: SwPush, private swUpdate: SwUpdate,\n    private oWebNotificationService: WebNotificationService\n    , private deviceService: DeviceDetectorService\n  ) {\n    // this.swPush.notificationClicks.subscribe( event => {\n    //   console.log('Received notification: ', event);\n    //   const url = event.notification.data.url;\n    //   window.open(url, '_blank');\n    // });\n    this.isMobileBrowser() ;\n    this.matIconRegistry.addSvgIcon(\n      \"ksd-left\",\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"../assets/img/arrow-circle-left.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      \"ksd-right\",\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"../assets/img/arrow-circle-right.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      \"ksd-exchange\",\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"../assets/img/exchange.svg\")\n    );\n    this.matIconRegistry.addSvgIcon(\n      \"ksd-menu\",\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"../assets/img/menu.svg\")\n    );\n    // console.log(\"***\", this.activatedRoute.snapshot.queryParamMap.get('qr'));\n\n    // console.log(activatedRoute.snapshot.queryParamMap);\n    this.router.navigate(['login']);\n  }\n  isMobile = false ;\n  isMobileBrowser  () {\n    var deviceInfo = this.deviceService.getDeviceInfo();\n    const isMobile = this.deviceService.isMobile();\n    const isTablet = this.deviceService.isTablet();\n    const isDesktopDevice = this.deviceService.isDesktop();\n    console.log(deviceInfo);\n    console.log(isMobile);  // returns if the device is a mobile device (android / iPhone / windows-phone etc)\n    console.log(isTablet);  // returns if the device us a tablet (iPad etc)\n    console.log(isDesktopDevice); // returns if the app is running on a Desktop browser.\n    this.isMobile = !isDesktopDevice ;\n    this.isMobile = true ;\n    Global_Variables.isMobile = this.isMobile;\n    //return !isMobile ; // Not working\n    //return true ;\n  //   if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){\n  //       return true\n  //  }\n  //  else{\n  //       return false\n  //   }\n  }\n\n  // getBackgroundColor(status) {\n  //   console.log(status);\n  //   status = this.sMqttStatus;\n  //   this.sColor = \"white\";\n  //   if (status == 'connected')\n  //     this.sColor = \"lightgreen\";\n  //   if (status == 'NOT connected')\n  //     this.sColor = \"red\";\n  //   if (status == 'Not connected')\n  //     this.sColor = \"blue\";\n  //   console.log(this.sColor);\n  //   return this.sColor;\n  // }\n\n  // ngAfterViewInit() {\n  //   window.location.reload();\n  // }\n\n  // sColor = \"red\";\n  ngOnInit() {\n    // https://www.positronx.io/angular-seo-set-dynamic-page-title-meta-tags-in-universal-app/\n    this.metaTagService.addTags([\n      { name: 'keywords', content: 'Remote Queue, ezQ, ezQueue, Clinic' },\n      { name: 'robots', content: 'index, follow' },\n      { name: 'author', content: 'Walter Gunasekaran' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { name: 'date', content: '2020-06-31', scheme: 'YYYY-MM-DD' },\n      { charset: 'UTF-8' }\n    ]);\n    this.oTBS.oCurrentTitle.subscribe(obj => {\n      setTimeout(() => {\n        this.sTitle = obj.title;\n        this.sMqttStatus = obj.status;\n        // console.log(this.sColor, this.sMqttStatus);\n      }, 1);\n    });\n    if (this.swUpdate.isEnabled) {\n      this.swUpdate.available.subscribe(() => {\n        console.log(\"New Version Available.\");\n        if (confirm(\"New version available. Load it ?\")) {\n          window.location.reload();\n        }\n      })\n    }\n    // http://d-ezq.ignorelist.com/?a75bc6ec-344a-006b-28b4-9e949866a485\n    // http://localhost:8888/?a75bc6ec-344a-006b-28b4-9e949866a485\n    //    http://localhost:8888/?ff=a75bc6ec-344a-006b-28b4-9e949866a485\n\n    //    this.activatedRoute.queryParams.\n    console.log(this.activatedRoute.snapshot);\n    this.activatedRoute.queryParams.subscribe((parameter:any) => {\n      console.log(\"^^^^^^^\", parameter);\n      console.log(\"^^^^^^^\", parameter.parameter);\n    })\n    // console.log(this.activatedRoute);\n    // console.log(this.activatedRoute.snapshot.queryParamMap.keys);\n\n  }\n  //   submitNotification(): void {\n  // //    this.oWebNotificationService.subscribeToNotification();\n  //   }\n\n}\n","<mat-toolbar color=\"accent\">\n    <mat-icon *ngIf=\"isMobile\" mat-icon-button (click)=\"sidenav.toggle()\">menu</mat-icon>\n  <!-- &#9776; <mat-icon></mat-icon> -->\n  <!-- <button color=\"accent\" href=\"#menu\" (click)=\"sidenav.toggle()\">\n    <mat-icon>menu</mat-icon>\n  </button> -->\n  <!-- <button href=\"#menu\" (click)=\"sidenav.toggle()\" class=\"icon\">\n  </button> -->\n  <h1>{{ sTitle }}</h1>\n  <span class=\"menu-spacer\"></span>\n  <span class=\"connection-status\">{{ sMqttStatus }}</span>\n</mat-toolbar>\n<mat-sidenav-container>\n  <mat-sidenav #sidenav>\n     <!-- mode=\"side\" role=\"navigation\" opened=\"false\"> -->\n    <mat-nav-list>\n      <a mat-list-item [routerLink]=\"'/entities'\" (click)=\"sidenav.close()\">\n        <!-- <mat-icon>face</mat-icon> -->\n        <span class=\"nav-caption\">Clinics</span>\n      </a>\n      <!-- <a mat-list-item [routerLink]=\"'/clinics'\" (click)=\"sidenav.close()\">\n        <span class=\"nav-caption\"> Clinics New</span>\n      </a> -->\n      <a mat-list-item [routerLink]=\"'/queuestatus'\" (click)=\"sidenav.close()\">\n        <span class=\"nav-caption\">Q Status</span>\n      </a>\n      <a\n        mat-list-item\n        [routerLink]=\"'/myappointments'\"\n        (click)=\"sidenav.close()\"\n      >\n        <span class=\"nav-caption\">My Appointments</span>\n      </a>\n      <a mat-list-item [routerLink]=\"'/contactus'\" (click)=\"sidenav.close()\">\n        <span class=\"nav-caption\">Contact Us</span>\n      </a>\n      <!-- <a mat-list-item [routerLink]=\"'/reachus'\" (click)=\"sidenav.close()\">\n        <span class=\"nav-caption\">Reach Us</span>\n      </a> -->\n    </mat-nav-list>\n  </mat-sidenav>\n  <mat-sidenav-content>\n    <div style=\"height: 100%;\">\n      <router-outlet></router-outlet>\n    </div>\n  </mat-sidenav-content>\n</mat-sidenav-container>\n","import { CommonModule } from \"@angular/common\";\nimport {\n  NgModule,\n  CUSTOM_ELEMENTS_SCHEMA,\n  NO_ERRORS_SCHEMA,\n} from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { AppRoutingModule } from \"./app-routing.module\";\nimport { AppComponent } from \"./app.component\";\n\n// import { NoopAnimationsModule } from '@angular/platform-browser/animations';\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { MaterialModule } from \"./material.module\";\nimport { MatGridListModule } from \"@angular/material/grid-list\";\nimport { HttpClientModule } from \"@angular/common/http\";\nimport { StorageServiceModule } from \"ngx-webstorage-service\";\n\nimport { LoginComponent } from \"./login/login.component\";\nimport { EntitiesComponent } from \"./entities/entities.component\";\nimport { ServicesComponent } from \"./services/services.component\";\nimport { NgPipesModule } from \"ngx-pipes\";\nimport { ServiceWorkerModule } from \"@angular/service-worker\";\nimport { environment } from \"../environments/environment\";\nimport { BusinessHoursComponent } from \"./business-hours/business-hours.component\";\nimport { PipesModule } from \"./pipes/pipes.module\";\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\nimport { QueueStatusComponent } from \"./queue-status/queue-status.component\";\nimport { MyAppointmentsComponent } from \"./my-appointments/my-appointments.component\";\nimport { AppointmentComponent } from \"./appointment/appointment.component\";\nimport { ContactUsComponent } from \"./contact-us/contact-us.component\";\n// import { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n// import { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material/form-field';\n\n// import { MaterialDesignFrameworkModule } from '@ajsf/material';\n// import { Bootstrap4FrameworkModule } from '@ajsf/bootstrap4' ;\n\nimport { MatCardModule } from \"@angular/material/card\";\nimport { MatSidenavModule } from \"@angular/material/sidenav\" ;\nimport { HashLocationStrategy, LocationStrategy } from \"@angular/common\";\nimport { MatDividerModule } from '@angular/material/divider';\n// import { DynamicFormBuilderModule } from \"./dynamic-form-builder/dynamic-form-builder.module\";\n\nimport { ReachUsComponent } from \"./reach-us/reach-us.component\";\nimport { Time24to12FormatPipe } from \"./time24to12-format.pipe\";\n\n// import { AgmCoreModule } from \"@agm/core\";\nimport { TakeQueueComponent } from \"./take-queue/take-queue.component\";\nimport { ClinicsComponent } from \"./clinics/clinics.component\";\nimport { DecimalPipe } from \"./decimal.pipe\";\nimport { MinutesPipe } from \"./minutes.pipe\";\nimport { LangPipe } from \"./lang.pipe\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    EntitiesComponent,\n    ServicesComponent,\n    BusinessHoursComponent,\n    QueueStatusComponent,\n    AppointmentComponent,\n    MyAppointmentsComponent,\n    ContactUsComponent,\n    ReachUsComponent,\n    TakeQueueComponent,\n    ClinicsComponent,\n    Time24to12FormatPipe,\n    DecimalPipe,\n    MinutesPipe,\n    LangPipe,\n  ],\n  imports: [\n    BrowserModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    AppRoutingModule,\n    MaterialModule,\n    HttpClientModule,\n    StorageServiceModule,\n    // MaterialDesignFrameworkModule,\n    // Bootstrap4FrameworkModule,\n    NgPipesModule,\n    // NoopAnimationsModule,\n    BrowserAnimationsModule,\n    PipesModule,\n    FlexLayoutModule,\n    MatCardModule,\n    MatGridListModule,\n    MatSidenavModule,\n    MatDividerModule,\n    // DynamicFormBuilderModule,\n    // AgmCoreModule.forRoot({\n    //   apiKey: \"AIzaSyCM1xTx1C2EtwH3WR2zlvbBW8f-eg9sV20\",\n    // }),\n    // MatProgressSpinnerModule,\n    //    BrowserAnimationsModule,\n    ServiceWorkerModule.register(\"ngsw-worker.js\", {\n      enabled: environment.production,\n    }),\n  ],\n  providers: [{ provide: LocationStrategy, useClass: HashLocationStrategy }], //{ provide: MAT_FORM_FIELD_DEFAULT_OPTIONS, useValue: { appearance: 'fill' } }],\n  bootstrap: [AppComponent],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA],\n})\nexport class AppModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport * as moment from 'moment';\n// import { TimeInfo, getUnbookedTime  } from '@uqapp/timeslots';\n\nimport { Global_Variables } from '../../app/properties';\nimport { APIService } from '../api.service';\nimport { Location } from '@angular/common';\n// import { MatGridList, MatGridTile } from '@angular/material/grid-list';\n// import { MatList, MatListItem } from '@angular/material/list';\nimport { TitleBarService } from '../title-bar.service';\n// import { MatButtonToggle, MatButtonToggleGroup } from '@angular/material/button-toggle';\n@Component({\n  selector: 'app-appointment',\n  templateUrl: './appointment.component.html',\n  styleUrls: ['./appointment.component.scss']\n})\nexport class AppointmentComponent implements OnInit {\n  sTitle = 'Book an Appointment';\n  public onConnectionStatusChange(sMqttStatus:any ) {\n    this.oTBS.titleChange({ title: this.sTitle, status: sMqttStatus });\n  }\n\n\n  sEntityID = -9;\n  sServiceID = -9;\n\n  bLoaded = false;\n\n  oEntity: any;\n  oItem: any;\n  oOpenHours: any = [];\n\n  oItems:any[] = [];\n  constructor(private oTBS: TitleBarService, public oLocation: Location, private oRouter: Router, private oAPIService: APIService) {\n    this.onConnectionStatusChange('');\n    var oState:any = this.oLocation.getState();\n    this.oItem = oState['oServiceItem'];\n    this.oEntity = oState['oEntityItem'];\n    console.log(this.oEntity);\n    console.log(this.oItem);\n    // this.oEntity = this.oLocation.getState();\n    // console.log(this.oEntity) ;\n\n    if (this.oItem === undefined) {\n      this.oRouter.navigateByUrl('entities');\n      return;\n    }\n    //    console.log(this.oItem);\n    this.sEntityID = this.oItem.ENTITYID;\n    this.sServiceID = this.oItem.ID;\n  }\n\n  groupByDay(oItems:any) {\n    var groups = oItems.reduce(function (o:any, a:any) {\n      var m = a.DAYOFWEEK;\n      (o[m]) ? o[m].data.push(a) : o[m] = { DAYOFWEEK: m, data: [a], DOW: Global_Variables.DOW[Number(m)] };\n      return o;\n    }, {});\n    var result = Object.keys(groups).map(function (k) {\n      return groups[k];\n    });\n    //    console.log ( result ) ;\n    return result;\n  }\n\n  ngOnInit() {\n    var today: any = moment();\n    var dt = today;\n    for (var i = 0; i < 15; i++) {\n      this.oItems.push({ date: dt.format('YYYY-MMM-DD'), title: dt.format('DD'), dow: dt.format('ddd') });\n      dt = today.add(1, 'd');\n    }\n    this.oAPIService.send2ServerP(\"services/\" + this.sServiceID + \"/wh/fetch\").then((data:any) => {\n      this.oOpenHours = this.groupByDay(data.result);\n      //      console.log(this.oOpenHours);\n      var v = this.oItems[0];\n      this.onDateClick(v);\n      this.bLoaded = true;\n    });\n  }\n\n  oFreeTimeSlots:any = [];\n  oSelectedDateItem:any = null;\n  bHasOpenAppointment = false;\n  onDateClick(oItem: any) {\n    this.bHasOpenAppointment = false;\n    this.oSelectedDateItem = oItem;\n    //    console.log(oItem);\n    this.oSelectedTimeSlot = null;\n    var booked_times:any[] = []; // [1000, 1330, 1500, 1100, 1130];\n    this.oAPIService.send2ServerP(\"services/appointments/fetch/\" + this.sEntityID + \"/\" + this.sServiceID, true, { DATE: this.oSelectedDateItem.date }).then((data:any) => {\n      //      console.log(data);\n      // booked_times = [];\n      if (data.result.length > 0) {\n        data.result.forEach((e:any) => {\n          if (e.UID == Global_Variables.iUserID) {\n            this.bHasOpenAppointment = true;\n          }\n          booked_times.push(e.AQNUMBER);\n        });\n      }\n      var now = moment().format('YYYY-MMM-DD');\n      //     console.log(\"\" + moment().format(\"HHmm\"));\n      var dtNow = moment(now, \"YYYY-MMM-DD\");\n      this.oFreeTimeSlots = [];\n      // console.log(this.oOpenHours);\n      this.oOpenHours.forEach((e:any) => {\n        if (e.DOW === oItem.dow) {\n          // console.log(oItem.dow);\n          // console.log(this.oSelectedDateItem.date, now);\n          if (moment(this.oSelectedDateItem.date, \"YYYY-MMM-DD\").isBefore(dtNow, 'day')) {\n            // console.log(\"isBefore\");\n            return;\n          }\n          //        console.log(e);\n          //          if (moment(this.oSelectedDateItem.date, \"YYYY-MMM-DD\").isSame(dtNow, 'day') && parseInt(e.data[0].TIME_CLOSE) < parseInt(moment().format(\"HHmm\"))) return;\n          this.oFreeTimeSlots = [];\n          for (var i = 0; i < e.data.length; i++) {\n            console.log(e.data[i].TIME_OPEN)\n            this.oFreeTimeSlots = this.oFreeTimeSlots.concat(this.getUnbookedTime(e.data[i].TIME_OPEN, e.data[i].TIME_CLOSE, 30, booked_times));\n                      // console.log(this.oFreeTimeSlots);\n          }\n        }\n      });\n    });\n  }\n  oSelectedTimeSlot:any = null;\n  onSelectTimeSlot(oTimeSlot: any) {\n    if (this.bHasOpenAppointment) return;\n    this.oSelectedTimeSlot = oTimeSlot;\n    //    console.log(this.oSelectedTimeSlot);\n  }\n  confirmBooking() {\n    //    console.log(this.oSelectedDateItem.date + \" \" + JSON.stringify(this.oSelectedTimeSlot));\n    this.oAPIService.send2ServerP(\"services/appointments/book/\" + this.sEntityID + \"/\" + this.sServiceID + \"\", true, { DATE: this.oSelectedDateItem.date, TIME: this.oSelectedTimeSlot.db_time }).then((data:any) => {\n      if (data._error) {\n        alert(\"Sorry, that slot was just taken.\");\n        return;\n      }\n      //     console.log(data);\n      //      this.onDateClick(this.oSelectedDateItem) ;\n      this.oRouter.navigateByUrl('myappointments');\n    });\n  }\n\n  // TODO Once verified use timeslot module - Changed already replicated\n\n\n// Provides time slots given some interval\n getTime(num:any) {\n  var tempHour :any= String(Math.trunc(num / 60));\n  var hour = tempHour + \"\".length === 1 ? \"0\" + tempHour : tempHour;\n  var min = num % 60 === 0 ? \"00\" : num % 60;\n  var sAMPM = 'am';\n  var hr = hour;\n  if (hour >= 12) {\n    hr = hour - 12;\n    if (hr == 0) hr = 12;\n    sAMPM = 'pm';\n  }\n  return {\n    num: num,\n    time: hour + ':' + min,\n    db_time: +hour * 100 + (+min),\n    time_am_pm: hr + ':' + min + ' ' + sAMPM\n  };\n}\n\ngetTimeSlots(blockTimes:any, showTimeAsString:any, interval:any, includeStartBlockedTime:boolean, includeEndBlockedTime:boolean) {\n  var times = 1,\n    sums = 60;\n    var me = this ;\n  includeStartBlockedTime = includeStartBlockedTime === true ? true : false;\n  includeEndBlockedTime = includeEndBlockedTime === true ? true : false;\n  sums = interval;\n  times = 60 / sums;\n\n  var start = 0;\n  var dateTimes = Array(Math.round(24 * times))\n    .fill(0)\n    .map(function (_) {\n      start = start + sums;\n      return start;\n    });\n  blockTimes = Array.isArray(blockTimes) === true && blockTimes.length > 0 ? blockTimes : [];\n  if (blockTimes.length > 0) {\n    dateTimes = blockTimes.reduce(function (acc:any, x:any) {\n      return acc\n        .filter(function (y:any) {\n          return includeStartBlockedTime == true ? y <= x[0] : y < x[0];\n        })\n        .concat(\n          acc.filter(function (y:any) {\n            return includeEndBlockedTime == true ? y >= x[1] : y > x[1];\n          })\n        );\n    }, dateTimes);\n  }\n  if (showTimeAsString === true) {\n    return dateTimes\n      .map(function (x:any) {\n        return me.getTime(x);\n      })\n      .reduce(function (accc:any, element:any) {\n        accc[\"\" + element.num] = element.time;\n        return accc;\n      }, {});\n  }\n  return dateTimes;\n}\n\nconvertTime2Numbers(num:any) {\n  //this is what is stored in DB\n  console.log(\"Converting\", num, \"\" + parseInt(num) / 100 * 60, \"+\", + num % 100)\n  return parseInt(\"\" + parseInt(num) / 100) * 60 + num % 100;\n}\n\ngetUnbookedTime(start_time:any, end_time:any, interval:any, booked_times:any) {\n  var me = this ;\n  var blocked_times = [];\n  for (var i = 0; i < booked_times.length; i++) {\n    var b = this.convertTime2Numbers(booked_times[i]);\n    blocked_times.push([b, b]);\n  }\n  var st = this.convertTime2Numbers(start_time);\n  var et = this.convertTime2Numbers(end_time);\n  var oFree:any = me.getTimeSlots(blocked_times, false, interval, true, false);\n  let oAvailableTimes = oFree.filter((time:any) => {\n    return (time >= st && time < et);\n  }).map(function (x:any) {\n    return me.getTime(x);\n  });\n  return (oAvailableTimes);\n}\n\n}\n\n// // console.log(convertTime2Numbers(1100)) ;\n// // console.log(convertTime2Numbers(1130)) ;\n// // console.log(getTimeSlots([[300,300], [920, 1240]], true, 60));\n\n// // var booked_times = [1000, 1330,1500, 1100, 1130] ;\n// // var free_times = getUnbookedTime(1000,1400,30,booked_times) ;\n// // console.log(free_times) ;","<!-- <section class=\"entity\">\n -->\n <div *ngIf=\"bLoaded\" class=\"full-height\">\n  <!-- <mat-button-toggle-group #group=\"matButtonToggleGroup\">\n    <mat-button-toggle value=\"left\" aria-label=\"Text align left\">\n      <mat-icon>format_align_left</mat-icon>\n    </mat-button-toggle>\n    <mat-button-toggle value=\"center\" aria-label=\"Text align center\">\n      <mat-icon>format_align_center</mat-icon>\n    </mat-button-toggle>\n    <mat-button-toggle value=\"right\" aria-label=\"Text align right\">\n      <mat-icon>format_align_right</mat-icon>\n    </mat-button-toggle>\n    <mat-button-toggle value=\"justify\" disabled aria-label=\"Text align justify\">\n      <mat-icon>format_align_justify</mat-icon>\n    </mat-button-toggle>\n  </mat-button-toggle-group> -->\n  <!-- <div class=\"example-selected-value\">Selected value: {{group.value}}</div> -->\n\n  <div class=\"entity-title\">\n    {{oEntity.ENAME}}\n    <br>{{oEntity.ADDRESS}}\n  </div>\n  <div class=\"service-title\">\n    {{oItem.NAME}}\n  </div>\n  <div class=\"scroll\">\n    <mat-button-toggle-group #group=\"matButtonToggleGroup\" [value]=\"oItems[0]\">\n      <div *ngFor=\"let o of oItems\">\n        <!-- <span>{{o.title}}</span>\n        <span>{{o.dow}}</span>\n      </div> -->\n        <mat-button-toggle [value]=\"o\" (click)=\"onDateClick(o)\" class=\"dateDDWWW\">\n          <p class=\"day\">{{o.title}}</p>\n          <p class=\"dow\">{{o.dow}}</p>\n        </mat-button-toggle>\n      </div>\n    </mat-button-toggle-group>\n  </div>\n  <div class=\"example-selected-value\" *ngIf=\"!bHasOpenAppointment\">Available appointments\n    for {{group?.value?.date}}\n  </div>\n  <!-- <mat-grid-list cols=\"5\" rowHeight=\"1:1\">\n    <div *ngFor=\"let o of oItems\">\n      <mat-grid-tile>\n        <mat-card-title><a mat-raised-button (click)=\"onDateClick(o)\">{{o.dow}}</a><br>\n          <a mat-raised-button (click)=\"onDateClick(o)\">{{o.title}}</a></mat-card-title>\n      </mat-grid-tile>\n    </div>\n  </mat-grid-list> -->\n  <div class=\"center\">\n    <div *ngIf=\"oSelectedTimeSlot != null\" style=\"padding:10px\">\n      Selected Appointment <br>{{oSelectedDateItem.date}} @ {{oSelectedTimeSlot.time_am_pm}}\n      <!-- <button ion-button (click)=\"confirmBooking()\">Confirm Appointment</button> -->\n    </div>\n    <div *ngIf=\"bHasOpenAppointment\">You already have an existing appointment on this date. <br>Pls cancel before\n      rescheduling</div>\n    <div *ngIf=\"oSelectedTimeSlot != null\">\n      <a mat-raised-button color=\"accent\" [disabled]=\"bHasOpenAppointment\" full (click)=\"confirmBooking()\">Confirm</a>\n    </div>\n  </div>\n  <mat-grid-list *ngIf=\"bHasOpenAppointment == false\" cols=\"3\" rowHeight=\"4:2\">\n    <div class=\"appointment-slots\">\n      <mat-grid-tile *ngFor=\"let f of oFreeTimeSlots\">\n        <a mat-raised-button class=\"time\" color=\"accent\" [disabled]=\"bHasOpenAppointment\"\n          (click)=\"onSelectTimeSlot(f)\">{{f.time_am_pm}}</a>\n      </mat-grid-tile>\n    </div>\n  </mat-grid-list>\n  <!-- <mat-card>\n  <mat-card-header>Available Slots\n    <div *ngIf=\"oSelectedTimeSlot != null\">\n      <a mat-raised-button color=\"accent\" [disabled]=\"bHasOpenAppointment\" (click)=\"confirmBooking()\">Confirm\n        Appointment</a>\n    </div>\n  </mat-card-header>\n  <mat-card-actions *ngFor=\"let f of oFreeTimeSlots\">\n    <a mat-raised-button color=\"accent\" (click)=\"onSelectTimeSlot(f)\">{{f.time_am_pm}}</a>\n  </mat-card-actions>\n</mat-card> -->\n  <!-- https://market.ionicframework.com/themes/doctor-appointment-booking-app -->\n  <!-- </section> -->\n</div>\n","import { Injectable } from '@angular/core';\n//import { Router, CanActivate } from '@angular/router';\nimport { Router } from '@angular/router';\nimport { AuthService } from './auth.service';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Global_Variables } from './properties';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuardService {\n\n  constructor(public authService: AuthService, public router: Router) { }\n  async canActivate() {\n    if (!await this.authService.checkAuthenticated()) {\n      // this.router.navigate(['']);\n      var data: any = {};\n      data.DEVICEUID = uuidv4();\n      // data.email = uuidv4();\n      // data.password = data.email;\n      this.authService.login(Global_Variables.AUTH_URL, data, 'entities')\n      return false;\n    }\n    return true;\n  }\n}\n","import { Injectable, Inject } from \"@angular/core\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { Router } from \"@angular/router\";\nimport { APIService } from \"./api.service\";\nimport { LOCAL_STORAGE, StorageService } from \"ngx-webstorage-service\";\nimport { Global_Variables } from \"../app/properties\";\nimport { jwtDecode } from \"jwt-decode\";\n\nconst STORAGE_KEY = \"token\";\nconst DEMOGRAPICS = \"location\";\nconst DEVICE_UID = \"user_identification\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AuthService {\n\n  private oAPIService: APIService|null = null;\n\n  public isAuthenticated = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    @Inject(APIService) private oAPI:any,\n    @Inject(LOCAL_STORAGE) private oStorage: StorageService,\n    private router: Router\n  ) {\n    this.oAPIService = oAPI;\n    this.clearToken();\n  }\n\n  async checkAuthenticated() {\n    console.info(\"checkAuthenticated\");\n    const authenticated = await this.exists();\n    console.info(authenticated);\n    if (authenticated)\n      this.isAuthenticated.next(authenticated);\n    return authenticated;\n  }\n\n  async login(sService: string, data: any, sRedirectURL: string |null = null) {\n    try {\n      const id = await this.oAPIService?.performLogin(sService, data);\n      // console.info(id);\n      Global_Variables.token = id;\n      if (id) {\n        console.log(\"***ID\", id)\n        if (id['status'] == 'error') {\n          console.error(\"*** FATAL Login Failed. \", id);\n        }\n        // let o = this.jwtHelper.decodeToken(id.access_token);\n        let o:any = jwtDecode(id.access_token)\n        let user_fields = JSON.parse(o.user_fields)\n        // console.log(user_fields)\n        // o = o.data;\n        // Global_Variables.sEntityID = o.ENTITYID;\n        Global_Variables.iUserID = user_fields.UID;\n        Global_Variables.sUserType = user_fields.TYPE;\n        Global_Variables.token = id;\n        this.oStorage.set(STORAGE_KEY, id);\n        // console.log(Global_Variables)\n        this.isAuthenticated.next(true);\n        if (sRedirectURL != null) this.router.navigate([sRedirectURL]);\n        return;\n      }\n    } catch (err:any) {\n      console.error(err);\n      // Global_Variables.token = \"SkipValidation\"\n      // this.isAuthenticated.next(true);\n      // await this.router.navigate(['qdisplay']);\n      // return ;\n      throw Error(JSON.stringify(err.error));\n    }\n    // console.log(\"Not Authenticated\") ;\n    // throw Error('Not Authenticated ');\n  }\n\n  async logout(redirect: string) {\n    try {\n      this.oStorage.remove(STORAGE_KEY);\n      Global_Variables.token = null;\n      this.isAuthenticated.next(false);\n      this.router.navigate([redirect]);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n  getDeviceID() {\n    return this.oStorage.get(DEVICE_UID);\n  }\n  saveDeviceID(sDeviceID: string) {\n    this.oStorage.set(DEVICE_UID, sDeviceID);\n    return sDeviceID;\n  }\n  getDemographics() {\n    return this.oStorage.get(DEMOGRAPICS);\n  }\n  saveDemographics(o: any) {\n    // if (o.latitude === undefined) {\n    //   var t = this.oStorage.get(DEMOGRAPICS);\n    //   if (t !== undefined) {\n    //     o.lat = t.latitude;\n    //     o.lng = t.latitude;\n    //   }\n    // }\n    this.oStorage.set(DEMOGRAPICS, o);\n  }\n  clearToken() {\n    this.oStorage.remove(STORAGE_KEY);\n    Global_Variables.bSaved = false;\n  }\n  exists() {\n    var id = this.oStorage.get(STORAGE_KEY);\n    if (id) {\n      try {\n        console.log(\">>ID\", id)\n        let o:any = jwtDecode(id.access_token)\n        let user_fields = JSON.parse(o.user_fields) ;\n        // console.info(user_fields);\n        Global_Variables.sEntityID = user_fields.ENTITYID;\n        Global_Variables.iUserID = user_fields.UID;\n        Global_Variables.sUserType = user_fields.TYPE;\n        Global_Variables.token = id;\n        //TODO check for Expiry\n        return true;\n      } catch (err) {\n        return false;\n      }\n    }\n    return false;\n  }\n  storeDeviceRegistrationInfo() {\n    // NOT TESTED\n    if (Global_Variables.bSaved) return;\n    if (\n      Global_Variables.sNewDeviceReg != null &&\n      Global_Variables.sDeviceReg != Global_Variables.sNewDeviceReg\n    ) {\n      // console.log(\"*** NEW DEVICE *** \", Global_Variables.sNewDeviceReg);\n      // this.oAPIService.send2ServerP(\"registerdevice/\" + Global_Variables.sNewDeviceReg, true, { DEVICEUID: Global_Variables.sDeviceUUID }).then((data: any) => {\n      //   Global_Variables.bSaved = true;\n      // });\n    }\n    return;\n  }\n\n  async loadUserInfo(data: any) {\n    if (this.exists()) return true;\n    return this.login(Global_Variables.AUTH_URL, data, \"entities\");\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Global_Variables } from '../../app/properties';\nimport { APIService } from '../api.service';\nimport { Location } from '@angular/common';\n// import { MatGridList, MatGridTile } from '@angular/material/grid-list';\n// import { MatList, MatListItem } from '@angular/material/list';\nimport { TitleBarService } from '../title-bar.service';\n\n@Component({\n  selector: 'app-business-hours',\n  templateUrl: './business-hours.component.html',\n  styleUrls: ['./business-hours.component.scss']\n})\nexport class BusinessHoursComponent implements OnInit {\n\n  sTitle = 'Working Hours';\n  public onConnectionStatusChange(sMqttStatus:any) {\n    this.oTBS.titleChange({ title: this.sTitle, status: sMqttStatus });\n  }\n\n  //  oEntity: any;\n  oService: any;\n  bLoaded = false;\n  oToday: any = [];\n  oEntities: any = [];\n\n  constructor(private oTBS: TitleBarService, public oLocation: Location, public oRoute: Router, public oAPIService: APIService\n  ) {\n    this.oService = this.oLocation.getState();\n    console.log(this.oService);\n  }\n  ngOnInit(): void {\n\n    this.onConnectionStatusChange('');\n    this.oAPIService.send2ServerP(\"services/\" + this.oService.ENTITYID + \"/\" + this.oService.ID + \"/wh/today\").then((data:any) => {\n      this.oToday = data.result;\n      console.log(this.oToday.length)\n    });\n    this.oAPIService.send2ServerP(\"services/\" + this.oService.ID + \"/wh/fetch\").then((data:any) => {\n      this.oEntities = this.groupByDay(data.result);\n      this.bLoaded = true;\n    });\n  }\n  groupByDay(oEntities:any) {\n    var groups = oEntities.reduce(function (o:any, a:any) {\n      var m = a.DAYOFWEEK;\n      (o[m]) ? o[m].data.push(a) : o[m] = { DAYOFWEEK: m, data: [a], DOW: Global_Variables.DOW[Number(m)] };\n      return o;\n    }, {});\n    var result = Object.keys(groups).map(function (k) {\n      return groups[k];\n    });\n    //    console.log ( result ) ;\n    return result;\n  }\n}\n","<!-- <mat-toolbar class=\"header\">\n    <mat-toolbar-row>\n        <button mat-icon-button (click)=\"sidenav.toggle()\" fxShow=\"true\" fxHide.gt-sm>\n            <mat-icon>menu</mat-icon>\n          </button>\n      <span>Working Hours</span>\n  </mat-toolbar-row>\n</mat-toolbar> -->\n\n<div *ngIf=\"bLoaded\">\n  <div class=\"entity-title\">\n    {{oService.ENAME}}\n    <!-- <br>{{oEntity.ADDRESS}} -->\n  </div>\n  <!-- <div *ngIf=\"oToday.length == 0\">\n    <div>Sorry we are closed today.</div>\n  </div> -->\n\n\n\n  <mat-card appearance=\"outlined\">\n    <mat-card-header>\n      <mat-card-title *ngIf=\"oToday.length > 0\">Open Today</mat-card-title>\n      <mat-card-title *ngIf=\"oToday.length == 0\">Sorry we are closed today</mat-card-title>\n      <mat-card-contents *ngIf=\"oToday.length > 0\">\n        <mat-card-title *ngFor=\"let o of oToday\">{{o.TIME_OPEN | timeFormat }} - {{o.TIME_CLOSE | timeFormat }}\n        </mat-card-title>\n      </mat-card-contents>\n    </mat-card-header>\n  </mat-card>\n  <mat-grid-list cols=\"4\" *ngFor=\"let g of oEntities\">\n    <mat-grid-tile>{{g.DOW}}</mat-grid-tile>\n    <mat-grid-tile colspan=\"3\">\n      <mat-list>\n        <mat-list-item *ngFor=\"let o of g.data\" class=\"time\">\n          <div>{{o.TIME_OPEN | timeFormat }} -\n            {{o.TIME_CLOSE | timeFormat }}</div>\n        </mat-list-item>\n      </mat-list>\n    </mat-grid-tile>\n  </mat-grid-list>\n</div>\n","import { Component, OnInit, OnDestroy } from \"@angular/core\";\nimport { Router, ActivatedRoute } from \"@angular/router\";\nimport { Global_Variables } from \"../../app/properties\";\nimport { TitleBarService } from \"../title-bar.service\";\nimport { APIService } from \"../api.service\";\nimport { AuthService } from \"../auth.service\";\nimport { FormControl } from \"@angular/forms\";\nimport { MqttService } from \"abstract-mqtt\";\nimport { MQTT_HOST, MQTT_PORT, MQTT_USESSL } from \"../../env.properties\";\n\n// import { Location } from \"@angular/common\";\nimport { Paho } from \"mosq-mqtt/mqttws31\";\nimport * as moment from \"moment\";\n// import { MatGridList, MatGridTile } from \"@angular/material/grid-list\";\n// import { MatList, MatListItem } from \"@angular/material/list\";\n// import { UUID } from \"angular2-uuid\";\n\nconst NO_QUEUE_MESSAGE = \"Services are shown during Business Hours only\";\nconst NO_SERVICES_MESSAGE = \"No Services Defined\";\n\n@Component({\n  selector: \"app-clinics\",\n  templateUrl: \"./clinics.component.html\",\n  styleUrls: [\"./clinics.component.scss\"],\n})\nexport class ClinicsComponent extends MqttService implements OnInit, OnDestroy {\n  searchControl: FormControl| undefined = undefined;\n  bSearching: any;\n  bLoaded = false;\n  sCountry: any = \"None\";\n  sTZ: any = \"TZ\";\n\n  oEntities: any[] = [];\n  oServices: any[] = [];\n\n  oEntity: any = undefined;\n  sMessage: string|null = null;\n\n  products = [];\n  bDisabled = true;\n\n  bDebug = true;\n  // oItem: any = { CURRENTQN: 0, ISSUEDQN: 0 };\n  // oAItem: any = { CURRENTQN: 0, ISSUEDQN: 0 };\n  //  oService: any = {};\n  COUNTERN: number = -1;\n  //  bHasMore: boolean = false;\n  sEmail: string = \"\";\n  bIsServicingAppointment = false;\n\n  oOptions: any = {\n    useSSL: MQTT_USESSL,\n    userName: \"test\",\n    password: \"test12\",\n  };\n\n  sMqttHost = MQTT_HOST;\n  public override getMqttHost() {\n    return this.sMqttHost;\n  }\n  public override getClientID() {\n    //  super.sClientID = \"qs-\" + this.Global_Variables.UUID;\n    // return uuidv4();\n    return \"qs-\" + this.Global_Variables.UUID;\n  }\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private oTBS: TitleBarService,\n    public oRouter: Router,\n    private oAPIService: APIService,\n    private oAuthService: AuthService\n  ) {\n    //, private swUpdate: SwUpdate, private snackbar: MatSnackBar) {\n    super(MQTT_HOST, MQTT_PORT, Global_Variables, false);\n\n    if (Global_Variables.isMobile == false) {\n      this.oRouter.navigate([\"not_mobile\"]);\n      return;\n    }\n    if (Global_Variables.sCountry == \"\") {\n      this.oRouter.navigate([\"\"]);\n      return;\n    }\n\n    this.sCountry = Global_Variables.sCountry;\n    this.sTZ = Global_Variables.sTZ;\n    console.info(this.sCountry);\n    this.searchControl = new FormControl();\n    this.load();\n    this.oTBS.titleChange({ title: \"Clinics\", status: \"\" });\n    this.sMqttHost = MQTT_HOST; //'m-ezq.ignorelist.com';\n  }\n  //  bActive = false;\n\n  async showDetails(oEntity: any) {\n    if (this.oEntity !== undefined && oEntity != this.oEntity) {\n      this.oEntity.bExpanded = false;\n    }\n    oEntity.bExpanded = !oEntity.bExpanded;\n    this.oEntity = oEntity;\n    console.log(oEntity.bExpanded, this.oEntity.bExpanded);\n    //  this.bActive = !this.bActive;\n    Global_Variables.oEID = oEntity.ID;\n\n    if (!this.oEntity.bExpanded) {\n      try {\n        super.setConnect(false);\n        // super.disconnectMQTT();\n      } catch (err) {\n        //      console.log(\"ERROR \", err);\n      }\n    }\n    if (this.oEntity.bExpanded) {\n      this.oAPIService\n        .send2ServerP(\"services/\" + this.oEntity.ID + \"/f\", true)\n        .then((data: any) => {\n          this.oServices = data.result;\n          // console.log(this.oServices);\n          this.sMessage = null;\n          //      console.log(this.oItems);\n          if (this.oServices.length > 0) {\n            // this.sMqttHost = this.oItems[0].MQTTHOST;\n            super.setConnect(true);\n            this.oServices.forEach((oItem, index) => {\n              //          console.log(\"*** \", oItem);\n              if (oItem._D.length > 0)\n                oItem._D[0].QUEUEN_T = this.padLeft(oItem._D[0].QUEUEN, \"0\", 3);\n              oItem.CURRENTQN_T = this.padLeft(oItem.CURRENTQN, \"0\", 3);\n              oItem.ISSUEDQN_T = this.padLeft(oItem.ISSUEDQN, \"0\", 3);\n              this.setCanQueueUpNow(oItem);\n              if (index == this.oServices.length - 1) {\n                setTimeout(() => {\n                  this.bLoaded = true;\n                }, 500);\n              }\n            });\n            super.subscribe(\"CQ/\" + Global_Variables.oEID + \"/#\");\n          } else {\n            super.setConnect(false);\n            //        this.bShouldConnect = false;\n            this.sMessage = NO_SERVICES_MESSAGE;\n            this.bLoaded = true;\n          }\n        });\n    }\n  }\n\n  bErrorLoading = false;\n  async load() {\n    this.bErrorLoading = false;\n\n    // var b = await (this.oAuthService.loadUserInfo({}));\n    //    console.log(\"Logged In \" + b);\n    let a = 1 ;\n    this.oAPIService\n      .send2ServerP(\"entities\", true, { COUNTRY: Global_Variables.sCountry })\n      .then((data:any) => {\n        if (data) {\n          this.oEntities = data.result;\n          //        console.log(this.oItems);\n        }\n        this.bLoaded = true;\n      })\n      .catch(async (err: any) => {\n        console.error(err);\n        if (err.status == 403) {\n          // token expired\n          console.warn(\"JWT Expired.  Refresing\");\n          var data: any = {};\n          // data.DEVICEUID = this.oAuthService.getDeviceID(); \n          data.email = this.oAuthService.getDeviceID(); \n          data.password = data.email; \n          console.log(\"DeviceUID: \", data.email);\n          await this.oAuthService.login(Global_Variables.AUTH_URL, data, \"entities\");\n          return;\n        } else this.bErrorLoading = true;\n        // this.swUpdate.available.subscribe(evt => {\n        //   let snack = this.snackbar.open('Update Available', 'Reload Please.');\n\n        //   snack.onAction().subscribe(() => {\n        //     window.location.reload();\n        //   });\n\n        //   setTimeout(() => {\n        //     snack.dismiss();\n        //   }, 10000);\n        // });\n      });\n  }\n\n  // public onConnectionStatusChange(sMqttStatus) {\n  //   this.oTBS.titleChange({ title: this.sTitle, status: sMqttStatus });\n  // }\n  public override getUserName() {\n    //TODO get a new JWT token that expires in few minutes.\n    return (Global_Variables.token?.['access_token']||'');\n  }\n  goToStatus() {\n    // try {\n    //   super.setConnect(false);\n    // }\n    // catch (err) { }\n    this.oRouter.navigate([\"queuestatus\"]);\n  }\n  padLeft(text: any, padChar: string, size: number): string {\n    return (String(padChar).repeat(size) + text).substr(size * -1, size);\n  }\n  isClosedNow(oItem: any) {\n    oItem.bClosed = true;\n    oItem._BusinessHours.forEach((o: any) => {\n      //      console.log(o);\n      //get current time and check if it is inbetwen\n     \n      var currentTime = moment(o.LOCAL_TIME).format(\"Hmm\");\n      // console.log ( \"TIMEZONE: \" +  moment().parseZone().localeData ) ;\n\n      var iNow = Number(currentTime);\n      var iTO = Number(o.TIME_OPEN);\n      var iTC = Number(o.TIME_CLOSE);\n      // console.log(\"Comparing: \" + currentTime + \" with \" + moment(o.TIME_OPEN).format(\"Hmm\") + \" and \" + moment(o.TIME_CLOSE).format(\"Hmm\"));\n      // if (moment(currentTime).isBetween(moment(o.TIME_OPEN, \"Hmm\"), moment(o, \"Hmm\")))\n      if (iNow >= iTO && iNow <= iTC) {\n        oItem.TIME_OPEN = iTO;\n        oItem.TIME_CLOSE = iTC;\n        //     console.log(\"Open NOW...\");\n        oItem.bClosed = false;\n      }\n      oItem.bLoading = false;\n    });\n  }\n\n  // onPurchase(oItem: any) {\n  //   //https://medium.com/@andrew.thielcole/in-app-purchases-with-ionic-3-af13b21f49f2\n  //   // ionic cordova plugin add cc.fovea.cordova.purchase --variable BILLING_KEY=\"<ANDROID_BILLING_KEY>\"\n  //   // $ npm install --save @ionic-native/in-app-purchase-2\n\n  // }\n  onBookAppointment(oItem: any) {\n    console.log(oItem);\n    //send oService\n    this.oRouter.navigateByUrl(\"appointment\", {\n      state: { oServiceItem: oItem, oEntityItem: this.oEntity },\n    });\n    //   this.navCtrl.setRoot('AppointmentPage') ;\n  }\n  onGetQN(oItem: any) {\n    //    this.oIAP.buy(this.products[0]).then(data => {\n    /*\n   data will contain {\n     transactionId: ...\n     receipt: ...\n     signature: ...\n   }\n */\n    this.oAPIService\n      .send2ServerP(\"gqn/\" + Global_Variables.oEID + \"/\" + oItem.ID, true)\n      .then((data: any) => {\n        if (data._error) {\n          console.error(data._error);\n          return;\n        }\n        // Required for Android.  However, can be called for iOS as well.\n        //      this.oIAP.consume ( data.productType, data.receipt, data.signature ) ;\n        this.goToStatus();\n      });\n    //  });\n  }\n  setCanQueueUpNow(oItem: any) {\n    oItem.bLoading = true;\n    this.oAPIService\n      .send2ServerP(\"q/opened/\" + Global_Variables.oEID + \"/\" + oItem.ID)\n      .then((data: any) => {\n        //      console.log(JSON.stringify(data.result));\n        if (data.result.length > 0) {\n          //        this.zone.run(() => {\n          oItem._bQOpened = true;\n          oItem._BusinessHours = data.result;\n          this.isClosedNow(oItem);\n          //          console.log(\"Setting Opened = TRUE\");\n          //        });\n        } else {\n          oItem.bClosed = true;\n          oItem.PREFIX = \"\";\n          oItem.CURRENTQN_T = \"closed\";\n          oItem.ISSUEDQN_T = \"closed\";\n        }\n      });\n  }\n  async onBusinessHours(oItem: any) {\n    oItem.ENAME = this.oEntity.ENAME;\n    await this.oRouter.navigateByUrl(\"businesshours\", { state: oItem });\n  }\n\n  ngOnInit() {\n    // this.sMessage = null;\n    // if (this.bLoaded && this.oItems.length > 0) {\n    //   // this.bShouldConnect = true;\n    //   //      super.subscribe(\"CQ/\" + Global_Variables.oEID + \"/#\");\n    //   super.setConnect(true);\n    //   this.oItems.forEach(oItem => {\n    //     this.setCanQueueUpNow(oItem);\n    //   })\n    // }\n    // else {\n    //   this.sMessage = NO_SERVICES_MESSAGE;\n    // }\n  }\n  ngOnDestroy() {\n    try {\n      super.setConnect(false);\n      // super.disconnectMQTT();\n    } catch (err) {\n      //      console.log(\"ERROR \", err);\n    }\n  }\n\n  processMessage(message: Paho.MQTT.Message) {\n    // ./pushMessage.sh 'CQ/1/11' '21,49'\n    //    var t = message.destinationName.split('/');\n    //    console.log(d[0] + \" \" + d[1] + \" \" + d[2]);\n    //    var m = message.payloadString.split(',');\n    //    console.log(m[0] + \" and \" + m[1]);\n    var t = super.getTopicPathInArray(message);\n    var m = super.getMessageInArray(message);\n\n    if (t[0] == \"ServerUp\") {\n      return;\n    }\n    if (t[0] == \"IP\") {\n      this.onConnectionStatusChange(m);\n      return;\n    }\n    if (t[0] == \"CQ\") {\n      this.oServices.forEach((oItem) => {\n        if (oItem.ID == t[2]) {\n          // if ( m[0] == '0' && m[1] == '0')\n          //   return ;\n          oItem.CURRENTQN = Number(m[0]);\n          oItem.CURRENTQN_T = this.padLeft(oItem.CURRENTQN, \"0\", 3);\n          oItem.ISSUEDQN = Number(m[1]);\n          oItem.ISSUEDQN_T = this.padLeft(oItem.ISSUEDQN, \"0\", 3);\n        }\n      });\n    }\n  }\n}\n","<!-- <div class=\"container-fluid\"> -->\n<!-- <h2 class=\"mb-5 mt-4\">Clinics</h2> -->\n<!-- <div> -->\n<!-- <div class=\"wrap\"> -->\n<div class=\"card\" *ngFor=\"let oo of oEntities\">\n  <!-- <div class=\"card-header entity-title\">\n        </div> -->\n  <div class=\"card-body\">\n    <div class=\"task\">\n      <div class=\"abstract\" (click)=\"showDetails(oo)\" class=\"entity-title\">\n        {{ oo.ENAME }}<br />{{ oo.ADDRESS }}\n      </div>\n      <div\n        class=\"details service-title\"\n        [ngClass]=\"{\n          expanded: oo?.bExpanded == true,\n          collapsed: oo?.bExpanded == false\n        }\"\n      >\n        <!-- <div class=\"details__inner\"> -->\n        <div *ngFor=\"let o of oServices\">\n          <!-- <mat-divider></mat-divider> -->\n          <!-- <mat-card-title class=\"service-title\"> -->\n          <div>\n            <div>\n              <span *ngIf=\"!o.bClosed\" class=\"badge badge-success\">open</span>\n              <span *ngIf=\"o.bClosed\" class=\"badge badge-danger\">closed</span>\n              {{ o.NAME }}\n            </div>\n            <div *ngIf=\"o.bClosed\" text-center class=\"float-right\">\n              <!-- <div class=\"float-left\">T</div>\n                <div class=\"float-right\"> -->\n              <a color=\"accent\" mat-raised-button (click)=\"onBusinessHours(o)\"\n                >Business Hours</a\n              >\n              <!-- </div> -->\n            </div>\n            <div *ngIf=\"!o.bClosed\" text-center class=\"float-right\">\n              {{ o.TIME_OPEN | timeFormat }} -\n              {{ o.TIME_CLOSE | timeFormat }}\n            </div>\n          </div>\n          <div>\n            <br />\n            <br />\n          </div>\n          <div class=\"row\">\n            <div class=\"column\">\n              <span class=\"badge badge-warning\">Now AAAA Servicing</span>\n            </div>\n            <div class=\"column\">\n              <span class=\"badge badge-warning\">Last</span>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"column\">\n              <ng-container *ngIf=\"o.CURRENTQN_T != 'null'; else nullTemplate\">\n                {{ o.PREFIX | lpad: 2:\" \" }}{{ o.CURRENTQN_T }}\n              </ng-container>\n              <ng-template #nullTemplate>                \n                <i>None</i>\n              </ng-template>\n              <!-- {{ o?.PREFIX | lpad: 2:\" \" }}{{ o.CURRENTQN_T }} -->\n            </div>\n            <div class=\"column\">\n              <ng-container *ngIf=\"o.ISSUEDQN_T; else nullTemplate\">\n                {{ o.PREFIX | lpad: 2:\" \" }}{{ o.ISSUEDQN_T }}\n              </ng-container>\n              <ng-template #nullTemplate>\n                <i>None</i>\n              </ng-template>\n              <!-- {{ o?.PREFIX | lpad: 2:\" \" }}{{ o.ISSUEDQN_T }} -->\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"column\">\n              <div *ngIf=\"!o.bClosed && o._D.length > 0\">\n                <!-- <span class=\"badge badge-warning\" (click)=\"goToStatus()\">Your Q# {{ o.PREFIX | lpad: 2:\" \" }}{{ o._D[0].QUEUEN_T }}</span> -->\n                <a mat-raised-button color=\"accent\" (click)=\"goToStatus()\"\n                  >Your Q# {{ o.PREFIX | lpad: 2:\" \" }}{{ o._D[0].QUEUEN_T }}</a\n                >\n              </div>\n              <div *ngIf=\"!o.bClosed && o._D.length == 0\">\n                <a color=\"accent\" mat-raised-button (click)=\"onGetQN(o)\"\n                  >Join Queue</a\n                >\n              </div>\n              <div *ngIf=\"o.bClosed\">\n                Closed\n              </div>\n            </div>\n            <!-- <div *ngIf=\"o._D.length > 0\">\n                      <div>\n                        <a\n                          mat-button\n                          block\n                          color=\"accent\"\n                          (click)=\"goToStatus()\"\n                          >Your Q# {{ o.PREFIX | lpad: 2:\" \"\n                          }}{{ o._D[0].QUEUEN_T }}</a\n                        >\n                      </div>\n                    </div> -->\n            <div class=\"column\">\n              <a color=\"accent\" mat-raised-button (click)=\"onBookAppointment(o)\"\n                >Appointment</a\n              >\n            </div>\n          </div>\n          <hr />\n        </div>\n      </div>\n    </div>\n    <!-- </div> -->\n    <!-- <div class=\"card-body\">\n            <div class=\"task\">\n              <div class=\"abstract\" (click)=\"showDetails(o)\">\n                <p>General Practice</p>\n              </div>\n              <div class=\"details\" [ngClass]=\"{'expanded': bActive == true, \n          'collapsed': bActive == false}\">\n                <div class=\"details__inner\">\n                  <h3>Services</h3>\n                  <p>Dental RTC</p>\n                  <p>Dental Implant</p>\n                  <p class=\"date\">\n                    <span>20</span>\n                    <span>APR</span></p>\n                  <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n                </div>\n              </div>\n            </div>\n          </div> -->\n  </div>\n  <!--         \n        <div class=\"dashboard-cards\">\n  \n          <div class=\"card\">\n            <div class=\"card-header\">\n              Featured\n            </div>\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">Special title treatment</h5>\n              <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n              <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n            </div>\n          </div>\n          <div class=\"card\">\n            <div class=\"card-header\">\n              Featured\n            </div>\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">Special title treatment</h5>\n              <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n              <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n            </div>\n          </div>\n          <div class=\"card\" style=\"width: 18rem;\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">Card title</h5>\n              <h6 class=\"card-subtitle mb-2 text-muted\">Card subtitle</h6>\n              <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's\n                content.</p>\n              <a href=\"#\" class=\"card-link\">Card link</a>\n              <a href=\"#\" class=\"card-link\">Another link</a>\n            </div>\n          </div>\n          <div class=\"card\" style=\"width: 18rem;\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">Card title</h5>\n              <h6 class=\"card-subtitle mb-2 text-muted\">Card subtitle</h6>\n              <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's\n                content.</p>\n              <a href=\"#\" class=\"card-link\">Card link</a>\n              <a href=\"#\" class=\"card-link\">Another link</a>\n            </div>\n          </div>\n          <div class=\"card\" style=\"width: 18rem;\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">Card title</h5>\n              <h6 class=\"card-subtitle mb-2 text-muted\">Card subtitle</h6>\n              <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's\n                content.</p>\n              <a href=\"#\" class=\"card-link\">Card link</a>\n              <a href=\"#\" class=\"card-link\">Another link</a>\n            </div>\n          </div>\n          <div class=\"card\" style=\"width: 18rem;\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">Card title</h5>\n              <h6 class=\"card-subtitle mb-2 text-muted\">Card subtitle</h6>\n              <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's\n                content.</p>\n              <a href=\"#\" class=\"card-link\">Card link</a>\n              <a href=\"#\" class=\"card-link\">Another link</a>\n            </div>\n          </div>\n          <div class=\"card\" style=\"width: 18rem;\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">Card title</h5>\n              <h6 class=\"card-subtitle mb-2 text-muted\">Card subtitle</h6>\n              <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's\n                content.</p>\n              <a href=\"#\" class=\"card-link\">Card link</a>\n              <a href=\"#\" class=\"card-link\">Another link</a>\n            </div>\n          </div>\n        </div>\n      </div> -->\n</div>\n<!-- </div> -->\n<!-- </div> -->\n<!-- </div> -->\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\nimport { APIService } from '../api.service';\nimport { TitleBarService } from '../title-bar.service';\n\n@Component({\n  selector: 'app-contact-us',\n  templateUrl: './contact-us.component.html',\n  styleUrls: ['./contact-us.component.scss']\n})\nexport class ContactUsComponent implements OnInit {\n\n  bMessageSent = false;\n\n  private _jsonURL = 'assets/ContactUs.json';\n\n  public onConnectionStatusChange(sMqttStatus:any) {\n    this.oTBS.titleChange({ title: \"Contact Us\", status: sMqttStatus });\n  }\n\n  // formData: FormGroup;\n\n  constructor(private oTBS: TitleBarService, public oRouter: Router, private readonly oAuthService: AuthService, private readonly oAPI: APIService) {\n    this.onConnectionStatusChange('');\n  }\n\n  oErrorMessage = \"\";\n  oFormSchema:any = {};\n  oFormLayout:any = {};\n  oFormData:any = {};\n\n  async ngOnInit() {\n    this.oAPI.send2Server(this._jsonURL).then((content: string) => {\n      var formObject:any = content; //JSON.parse(content) ;\n      this.oFormSchema = formObject['schema'];\n      this.oFormLayout = formObject['layout'];\n      this.oFormData = formObject['data'];\n    }).catch((error: any) => console.log(error));\n  }\n\n  onFormSubmit(formData: any) {\n    this.oErrorMessage = \"\";\n    console.log(formData);\n    this.oAPI.send2ServerP(\"contactus/add\", true, formData).then((data: any) => {\n      // var oItem = data.result[0];\n      this.bMessageSent = true;\n    });\n  }\n  isFormValid(form: any) {\n    return true;\n  }\n}\n","<div class=\"full-height\">\n  <div *ngIf=\"bMessageSent\">\n    <div>\n      Your message was recieved.\n    </div>\n    <p>We will contact you shortly after reviewing your message. <br><br> Thank you.<br>-Business Development Team.\n    </p>\n  </div>\n  <div>{{oErrorMessage}}</div>\n  <div *ngIf=\"!bMessageSent\">\n    <div class=\"form-container\">\n      <json-schema-form [schema]=\"oFormSchema\" [layout]=\"oFormLayout\" [(data)]=\"oFormData\" framework=\"material-design\"\n        (onSubmit)=\"onFormSubmit($event)\" (isValid)=\"isFormValid($event)\" [loadExternalAssets]=true>\n      </json-schema-form>\n    </div>\n  </div>\n</div>\n","import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"decimal\",\n})\nexport class DecimalPipe implements PipeTransform {\n  transform(value: number, isRound = false): string|null {\n    const accuracy = 100 * 1000;\n    let ret = null;\n\n    if (value) {\n      if (isRound) {\n        ret = \"\" + Math.round(value);\n      } else {\n        const rounded = Math.round(value * accuracy) / accuracy;\n        const str = rounded < 10 && rounded >= 1 ? \"0\" + rounded : \"\" + rounded;\n\n        ret = str.padEnd(8, \"0\");\n      }\n    }\n    return ret;\n  }\n}\n","import { Component, OnInit } from \"@angular/core\";\nimport { Router, ActivatedRoute } from \"@angular/router\";\nimport { Global_Variables } from \"../../app/properties\";\n// import { MQTT_HOST, MQTT_PORT, MQTT_USESSL } from '../../app/env.properties';\n\n// import { LoginServiceProvider } from '../../providers/login-service/login-service';\n// import { ApiServiceProvider } from '../../providers/api-service/api-service';\nimport { APIService } from \"../api.service\";\n// import { Paho } from 'mosq-mqtt/mqttws31';\n// import { MqttService } from 'abstract-mqtt';\n//import { LeftPadPipe } from 'angular-pipes/src/string/left-pad.pipe';\n// import * as moment from 'moment';\n// import { Location } from '@angular/common';\n\nimport { FormControl } from \"@angular/forms\";\n//import 'rxjs/add/operator/debounceTime';\n//import { sDOWNLOAD_URL } from '../../app/properties';\nimport { AuthService } from \"../auth.service\";\nimport { TitleBarService } from \"../title-bar.service\";\n// import { SwUpdate } from '@angular/service-worker';\n// import { MatSnackBar } from '@angular/material/snack-bar';\n\nvar bTestIndia: boolean = false;\n\n@Component({\n  selector: \"app-entities\",\n  templateUrl: \"./entities.component.html\",\n  styleUrls: [\"./entities.component.scss\"],\n})\nexport class EntitiesComponent implements OnInit {\n  ngOnInit(): void {}\n\n  searchControl!: FormControl;\n  bSearching: any;\n  bLoaded = false;\n  sCountry: any = \"None\";\n  sTZ: any = \"TZ\";\n\n  oItems: any[] = [];\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private oTBS: TitleBarService,\n    public oRouter: Router,\n    private oAPIService: APIService,\n    private oAuthService: AuthService\n  ) {\n    //, private swUpdate: SwUpdate, private snackbar: MatSnackBar) {\n    // constructor(public navCtrl: NavController,\n    // private modalCtrl: ModalController,\n    // public oLoginService: LoginServiceProvider,\n    // public oAPIService: ApiServiceProvider) {\n\n    //    console.log(Global_Variables);\n    if (Global_Variables.sCountry == \"\") {\n      this.oRouter.navigate([\"\"]);\n      return;\n    }\n\n    if (bTestIndia) Global_Variables.sCountry = \"IN\";\n\n    this.sCountry = Global_Variables.sCountry;\n\n    this.sTZ = Global_Variables.sTZ;\n    console.info(this.sCountry);\n    this.searchControl = new FormControl();\n    this.load();\n    this.oTBS.titleChange({ title: \"Clinics\", status: \"\" });\n\n    //    (async () => { await this.checkInstantQ(); })();\n    // this.oAuthService.storeDeviceRegistrationInfo();\n\n    // (async => {\n    //   (this.activatedRoute.queryParams.subscribe(params => {\n    //     console.log(\"Params***\", params);\n    //     if (params['qr'] !== undefined)\n    //       Global_Variables.InstantQ = params['qr'];\n    //     console.log(Global_Variables.InstantQ);\n    //     //for QR code\n    //     if (Global_Variables.InstantQ !== null && Global_Variables.InstantQ.length > 2\n    //       //&& Global_Variables.InstantQ.indexOf(\"ionic\") == -1\n    //     ) {\n    //       this.getInstantQNumber();\n    //     }\n    //     else {\n    //       this.searchControl = new FormControl();\n    //       this.load();\n    //     }\n    //   }))\n    // })();\n  }\n\n  //request for location\n  bErrorLoading = false;\n  async load() {\n    this.bErrorLoading = false;\n\n    // console.log(\"DEVICEUID\", this.oAuthService.getDeviceID());\n\n    // var b = await (this.oAuthService.loadUserInfo({}));\n    //    console.log(\"Logged In \" + b);\n\n    this.oAPIService\n      .send2ServerP(\"entities\", true, { COUNTRY: Global_Variables.sCountry })\n      .then((data:any) => {\n        if (data) {\n          this.oItems = data.result;\n                 console.log(this.oItems);\n        }\n        this.bLoaded = true;\n      })\n      .catch(async (err: any) => {\n        console.error(err);\n        if (err.status == 403) {\n          // token expired\n          console.warn(\"JWT Expired.  Refresing\");\n          var data: any = {};\n          // data.DEVICEUID = this.oAuthService.getDeviceID();\n          data.email = this.oAuthService.getDeviceID();\n          data.password = data.email;\n          // console.log(\"Sending DEVICEUID\", this.oAuthService.getDeviceID());\n          await this.oAuthService.login(Global_Variables.AUTH_URL, data, \"entities\");\n          return;\n        } else this.bErrorLoading = true;\n        // this.swUpdate.available.subscribe(evt => {\n        //   let snack = this.snackbar.open('Update Available', 'Reload Please.');\n\n        //   snack.onAction().subscribe(() => {\n        //     window.location.reload();\n        //   });\n\n        //   setTimeout(() => {\n        //     snack.dismiss();\n        //   }, 10000);\n        // });\n      });\n  }\n  // ionViewWillEnter() {\n  //   // this.load();\n  // }\n\n  async onEntityClick(oItem: any) {\n    Global_Variables.oEID = oItem.ID;\n    await this.oRouter.navigateByUrl(\"services\", { state: oItem });\n  }\n  // async onBusinessHours(oItem: any) {\n  //   await this.oRouter.navigateByUrl('businesshours', { state: oItem });\n  // }\n\n  //  sImageFile = \"assets/img/sm/\" ;\n  //sUrl = sDOWNLOAD_URL; //+ \"../download/uat/yq.apk\" ;\n  // regularShare(){\n  //   var msg = \"Download ezQ App\\n\\n\"  + sDOWNLOAD_URL + \"\\n\";\n  //   this.oSS.share(msg, null, this.sUrl);\n  // }\n  // regularShare() {\n  //   var msg =\n  //     \"Visiting Clinic ? Take Queue # using your Smart Phone.  Check out ezQApp .\";\n  //   //    this.oSS.share(msg, 'ezQ App', null, sDOWNLOAD_URL);\n  //   //    this.oSS.share(sDOWNLOAD_URL, null, null) ;\n  //   //    this.oSS.shareViaWhatsApp(msg, null, sDOWNLOAD_URL);\n  // }\n  // //   onBookAppointment(oItem:any ) {\n  //     this.navCtrl.push('AppointmentPage', { PEntity: oItem });\n  // //    this.navCtrl.setRoot('AppointmentPage') ;\n  //   }\n\n  //   whatsappShare() {\n  //     this.oSS.shareViaWhatsApp('Message via WhatsApp',\n  //     null /* img */,\n  //     \"http://pointdeveloper.com/\" /* url */,\n  //     null,\n  //     function (errormsg) { alert(\"Error: Cannot Share\") }\n  //   );\n  // };\n}\n","<div class=\"full-height\">\n  <div *ngIf=\"!bLoaded\">\n    <mat-progress-spinner class=\"custom-spinner\" diameter=\"40\" mode=\"indeterminate\">\n    </mat-progress-spinner>\n  </div>\n  <div *ngIf=\"bErrorLoading\">\n    <a mat-raised-button>Click here to Retry</a>\n  </div>\n  <div *ngIf=\"bLoaded\">\n    <!-- <section class=\"entity\">\n    <mat-card fxFlex.xs=\"100%\" class=\"entity-card\" *ngFor=\"let o of oItems\">\n      <mat-card-title>{{o.ENAME}}</mat-card-title>\n      <img no-padding [src]=\"oAPIService.buildImageURL(o)\" class=\"ksd-image\">\n  <mat-card-content>{{o.ADDRESS}}</mat-card-content>\n  <mat-card-actions>\n    <button mat-button (click)=\"onEntityClick(o)\">Services</button>\n    <button mat-button (click)=\"onBusinessHours(o)\">Open Hours</button>\n  </mat-card-actions>\n  </mat-card>\n  </section> -->\n    <!-- <section class=\"entity\">\n    <div class='grid--thumbs'> -->\n    <mat-card appearance=\"outlined\" *ngFor=\"let o of oItems\">\n      <mat-card-title>\n        <div class=\"entity-title\">\n          {{o.ENAME}}<br>{{o.ADDRESS}}\n        </div>\n      </mat-card-title>\n      <!-- <img no-padding [src]=\"oAPIService.buildImageURL(o)\" class=\"ksd-image\"> -->\n      <mat-card-content>\n        <mat-grid-list cols=\"2\">\n          <mat-grid-tile><a color=\"accent\" mat-raised-button (click)=\"onEntityClick(o)\">Services</a>\n          </mat-grid-tile>\n          <!-- <mat-grid-tile><a color=\"accent\" mat-raised-button (click)=\"onBusinessHours(o)\">Open Hours</a>\n          </mat-grid-tile> -->\n        </mat-grid-list>\n      </mat-card-content>\n    </mat-card>\n  </div>\n  <!-- </section>\n</div> -->\n</div>\n","import { Injectable } from \"@angular/core\";\nimport { Subject } from \"rxjs\";\nimport { UserLocation } from \"./user.location\";\n// import { Position, Coordinates } from \"node-geocoder\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class GeoLocationService {\n  location$: Subject<UserLocation|null> = new Subject();\n  errors$: Subject<string> = new Subject();\n\n  private api = navigator.geolocation;\n\n  constructor() {}\n\n  getLocation() {\n    if (!navigator.geolocation) {\n      this.errors$.next(\"not-available\");\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      this.success.bind(this),\n      this.failed.bind(this),\n      {\n        enableHighAccuracy: true,\n        timeout: 5000,\n      }\n    );\n  }\n\n  private success(data: GeolocationPosition) {\n    const payload = this.transformData(data.coords);\n\n    this.location$.next(payload);\n    this.errors$.next(\"\");\n  }\n\n  private failed(e:any) {\n    this.errors$.next(e.code === 1 ? \"permission\" : \"failed\");\n    this.location$.next(null);\n  }\n\n  private transformData(data: any): UserLocation {\n    return {\n      latitude: data.latitude === undefined ? null : data.latitude,\n      longitude: data.longitude === undefined ? null : data.longitude,\n      altitude: data.altitude === undefined ? null : data.altitude,\n      accuracyLatitude: data.accuracy\n        ? this.metersToLatitude(data.accuracy)\n        : null,\n      accuracyLongitude: data.accuracy\n        ? this.metersToLongitude(data.accuracy)\n        : null,\n      accuracyAltitude: data.altitudeAccuracy || null,\n    };\n  }\n\n  private metersToLatitude(value: number): number {\n    return value / (111321.38 * Math.cos((value * Math.PI) / 180));\n  }\n\n  private metersToLongitude(value: number): number {\n    return value / 111000;\n  }\n}\n","import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"lang\",\n})\nexport class LangPipe implements PipeTransform {\n  transform(value: any, args?: any): any {\n    if (args && typeof args === \"object\" && args[value]) {\n      return args[value];\n    }\n    return value;\n  }\n}\n","import { Component, OnInit } from \"@angular/core\";\nimport { Router, ActivatedRoute } from \"@angular/router\";\nimport { AuthService } from \"../auth.service\";\nimport { APIService } from \"../api.service\";\nimport { Global_Variables } from \"../../app/properties\";\n//import { MatProgressSpinner } from \"@angular/material/progress-spinner\";\nimport { UserLocation } from \"../user.location\";\nimport { GeoLocationService } from \"../geo-location.service\";\nimport { DeviceDetectorService } from 'ngx-device-detector';\nimport { v4 as uuidv4 } from 'uuid';\n// import { LangPipe } from \"../lang.pipe\";\n// import { DecimalPipe } from \"../decimal.pipe\";\n// import { MinutesPipe } from \"../minutes.pipe\";\n/*\nClient IP => https://api.ipify.org/?format=json\n\n\n*/\n\n//var bSQLInjectionTest: boolean = false;\n@Component({\n  selector: \"app-login\",\n  templateUrl: \"./login.component.html\",\n  styleUrls: [\"./login.component.scss\"],\n})\nexport class LoginComponent implements OnInit {\n  bLoaded = false;\n  sError = \"\";\n  lat: number = 43.653908;\n  lng: number = -79.384293;\n  //  dLat = 0; dLong = 0;\n  sCountry = \"NotSet\";\n  oDemographics: any = undefined;\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private oRouter: Router,\n    private oAPIService: APIService,\n    private readonly oAuthService: AuthService,\n    private oGeoLocationService: GeoLocationService\n    , private deviceService: DeviceDetectorService\n  ) {\n    Global_Variables.sCountry = \"\";\n  }\n\n  bHasLocation = false;\n\n  errMsg = \"\";\n  sImage = \"\";\n  viewType!: string;\n  position!: UserLocation;\n  errorType!: string;\n  currentLang!: Object;\n  async ngOnInit() {\n    await this.isMobile();\n    this.oDemographics = this.oAuthService.getDemographics();\n    if (this.oDemographics !== undefined) {\n      console.info(this.oDemographics);\n      Global_Variables.sCountry = this.oDemographics.country_code;\n      if (Global_Variables.sCountry !== undefined && Global_Variables.sCountry != \"\" ) {\n        this.sCountry = Global_Variables.sCountry;\n        // console.log(\"Country: \", Global_Variables.sCountry);\n//        Global_Variables.sCountry = 'IN';\n        this.bLoaded = true;\n        console.log(\"ISMOBILE: \", Global_Variables.isMobile) ;\n      }\n    }\n    if ( Global_Variables.isMobile )\n    {\n      this.showEntities();\n    }\n//    this.getLocation();\n    //    https://api.bigdatacloud.net/data/client-info\n    // if (Global_Variables.sCountry !== \"\") {\n    //   this.bHasLocation = true;\n    //   Global_Variables.sCountry = \"IN\";\n    //   this.showEntities();\n    //   return;\n    // }\n\n    // if (!bSQLInjectionTest) {\n    //   // this.oGeoLocationService.location$.subscribe((pos: UserLocation) => {\n    //   //   this.position = pos;\n    //   //   console.log(this.position);\n    //   // });\n\n    //   // this.oGeoLocationService.errors$.subscribe((type: string) => {\n    //   //   this.errorType = type;\n    //   //   console.log(this.errorType);\n    //   // });\n\n    //   // // this.langService.currentTranslation$.subscribe(\n    //   // //   (translation) => (this.currentLang = translation)\n    //   // // );\n\n    //   // this.oGeoLocationService.getLocation();\n    //   console.log(\"Country: \", Global_Variables.sCountry);\n    // } else {\n    //   // Global_Variables.sCountry = \"IN\";\n    //   // this.showEntities();\n    //   // this.bLoaded = true;\n    // }\n    // setInterval(() => {\n    //   this.oGeoLocationService.getLocation();\n    // }, 10000);\n  // }\n  // onTypeChange(type) {\n  //   this.viewType = type;\n  }\n\n  isMobileBrowser  () {\n    var deviceInfo = this.deviceService.getDeviceInfo();\n    const isMobile = this.deviceService.isMobile();\n    const isTablet = this.deviceService.isTablet();\n    const isDesktopDevice = this.deviceService.isDesktop();\n    console.log(deviceInfo);\n    console.log(isMobile);  // returns if the device is a mobile device (android / iPhone / windows-phone etc)\n    console.log(isTablet);  // returns if the device us a tablet (iPad etc)\n    console.log(isDesktopDevice); // returns if the app is running on a Desktop browser.\n    return !isDesktopDevice ;\n  }\n  async isMobile() {\n    let me = this;\n    await this.oAPIService\n      .send2ServerNoHeader(\"https://api.bigdatacloud.net/data/client-info\")\n      .then((d: any) => {\n        console.log(d);\n        if (d.country_code !== undefined) {\n          Global_Variables.sCountry = d.country_code;\n          if ( d.isMobile == false )\n            d.isMoble = this.isMobileBrowser() ;\n          Global_Variables.isMobile = d.isMobile;\n          console.log(\"Is Mobile: \", d.isMobile) ;\n          // Global_Variables.isMobile = true ;// unless a solution is found\n          me.sCountry = Global_Variables.sCountry;\n          me.oAuthService.saveDemographics(d);\n          console.log(\"Fetched Country: \", Global_Variables.sCountry);\n          me.bLoaded = true;\n        }\n        else\n          Global_Variables.isMobile = true ;// unless a solution is found\n          this.getLocation();\n      });\n  }\n  async getLocation() {\n    var me = this;\n    await this.oAPIService\n      .send2ServerNoHeader(\"https://ipapi.co/json\")\n      .then((d: any) => {\n        console.log(\"TEST\", d);\n        Global_Variables.sCountry = d.country_code;\n        me.sCountry = Global_Variables.sCountry;\n        this.oAuthService.saveDemographics(d);\n        console.log(\"Fetched Country: \", Global_Variables.sCountry);\n        me.bLoaded = true;\n        this.showEntities() ;\n      });\n  }\n  async getLocationGeoV2NotUsed() {\n    //    this.sCountry = Global_Variables.sCountry;\n    this.bHasLocation = true;\n    // console.log(Global_Variables);\n    // if (Global_Variables.sCountry == \"\") {\n    //      this.sCountry = this.getLocation();\n    this.getPosition()\n      .then((pos) => {\n        console.info(pos);\n        this.lat = pos.lat;\n        this.lng = pos.lng;\n        let me = this;\n        // https://developer.mapquest.com/documentation/geocoding-api/reverse/get/\n        this.sImage = `https://www.mapquestapi.com/staticmap/v5/map?key=qkcwM3ZHOcX9HAWBhMB41WQhl7Wx8ib8&zoom=17&locations=${this.lat},${this.lng}`;\n        let sURL = `https://www.mapquestapi.com/geocoding/v1/reverse?key=qkcwM3ZHOcX9HAWBhMB41WQhl7Wx8ib8&location=${this.lat},${this.lng}&outFormat=json&thumbMaps=false`;\n        this.oAPIService\n          .send2ServerNoHeader(sURL)\n          .then((d:any) => {\n            console.info(d.results[0].locations[0].adminArea1);\n            Global_Variables.sCountry = d.results[0].locations[0].adminArea1;\n            me.sCountry = Global_Variables.sCountry;\n            me.oAuthService.saveDemographics({\n              sCountry: Global_Variables.sCountry,\n              lat: me.lat,\n              lng: me.lng,\n            });\n            this.showEntities();\n            this.bLoaded = true;\n          })\n          .catch((err: any) => {\n            this.errMsg = err;\n            console.error(err);\n//            Global_Variables.sCountry = \"IN\";\n            //              this.showEntities();\n          });\n\n        //        https://www.mapquestapi.com/staticmap/v5/map?key=qkcwM3ZHOcX9HAWBhMB41WQhl7Wx8ib8&center=New+York\n        //   https://www.mapquestapi.com/staticmap/v5/map?key=qkcwM3ZHOcX9HAWBhMB41WQhl7Wx8ib8&locations=13.111546,80.293128&zoom=17\n        //   https://www.mapquestapi.com/geocoding/v1/reverse?key=qkcwM3ZHOcX9HAWBhMB41WQhl7Wx8ib8&location=13.111546%2C80.293128&outFormat=json&thumbMaps=false\n      })\n      .catch((err) => {\n        this.errMsg = err;\n        console.error(err);\n        //          this.showEntities();\n        this.bLoaded = true;\n      });\n    // }\n    // else {\n    //   this.showEntities();\n    //   //      (async () => { await this.checkInstantQ(); })();\n    // }\n    // console.log(\"***\", this.activatedRoute.snapshot.queryParamMap.keys);\n    // (async () => { await this.checkInstantQ(); })();\n    // console.log(\"****QRParsing Finished\");\n    // if (!this.oAuthService.exists()) {\n    //   var data: any = {};\n    //   data.DEVICEUID = uuidv4();\n    //   try {\n    //     //        var res = await this.oAuthService.login(\"auth\", data, \"entities\");\n    //     var res = await this.oAuthService.login(\"auth\", data, null);\n    //     return;\n    //   }\n    //   catch (err) {\n    //     console.log(err);\n    //   }\n    // }\n    //    this.oRouter.navigate(['entities']);\n  }\n  // async checkInstantQ() {\n  //   // http://d-ezq.ignorelist.com/?a75bc6ec-344a-006b-28b4-9e949866a485\n  //   // http://localhost:8888/?a75bc6ec-344a-006b-28b4-9e949866a485\n  //   console.log(this.activatedRoute);\n  //   console.log(this.activatedRoute.snapshot.queryParamMap.keys);\n  //   if (this.activatedRoute.snapshot.queryParamMap.keys !== undefined) {\n  //     // if (this.activatedRoute.snapshot.queryParamMap.keys.length != 1)\n  //     Global_Variables.InstantQ = this.activatedRoute.snapshot.queryParamMap.keys[0];\n  //     // }\n  //     // await (this.activatedRoute.queryParams.subscribe(params => {\n  //     //   console.log(\"Params***\", params);\n  //     //   if (params['qr'] !== undefined)\n  //     //     Global_Variables.InstantQ = params['qr'];\n  //     console.log(Global_Variables.InstantQ);\n  //     //for QR code\n  //     if (Global_Variables.InstantQ !== undefined && Global_Variables.InstantQ.length > 2\n  //       //&& Global_Variables.InstantQ.indexOf(\"ionic\") == -1\n  //     ) {\n  //       this.getInstantQNumber();\n  //     }\n  //     else {\n  //       this.showEntities();\n  //       // this.searchControl = new FormControl();\n  //       // this.load();\n  //       // this.oTBS.titleChange({ title: 'Clinics', status: '' });\n  //     }\n  //     // }))\n  //   }\n  //   console.log(\"Out of checkInstantQ\");\n  // }\n\n  // async getInstantQNumber() {\n  //   var b = await (this.oAuthService.loadUserInfo({}));\n  //   var sInstantQServiceID = Global_Variables.InstantQ; //.substr(1);\n  //   Global_Variables.InstantQ = null;\n  //   console.log(sInstantQServiceID);\n  //   // console.log(this.sCountry);\n  //   //Dispatch a Q# instantly\n  //   this.oAPIService.send2ServerP(\"instantqn/\" + sInstantQServiceID, true, { COUNTRY: Global_Variables.sCountry }).then((data: any) => {\n  //     if (data._error) {\n  //       if (data._error.indexOf(\"EX_Q_ALREADY_PRESENT\") == -1) {\n  //         console.log(data._error);\n  //         this.oRouter.navigateByUrl('entities');\n  //         //          this.load();\n  //         return;\n  //       }\n  //     }\n  //     console.log(\"queuestatus\");\n  //     this.oRouter.navigateByUrl('queuestatus');\n  //   });\n  // }\n\n  async showEntities() {\n    if (!this.oAuthService.exists()) {\n      var data: any = {};\n      data.DEVICEUID = this.oAuthService.getDeviceID();\n      if (data.DEVICEUID === undefined || data.DEVICEUID == null)\n      {\n        data.DEVICEUID = this.oAuthService.saveDeviceID(uuidv4());\n      }\n      //RUST requires only email and password\n      // data.email = this.oAuthService.getDeviceID();\n      // if (data.email === undefined || data.email == null)\n      // {\n      //   data.email = this.oAuthService.saveDeviceID(uuidv4());\n      // }\n      // data.password = data.email ;\n    try {\n        console.log(\"Authenticating\")\n        await this.oAuthService.login(\"auth\", data, \"entities\");\n      } catch (err) {\n        // var data: any = {};\n        // data.DEVICEUID = uuidv4();\n        // try {\n        //   var res = await this.oAuthService.login(\"auth\", data, \"entities\");\n        //   // var res = await this.oAuthService.login(\"auth\", data, null);\n        //   return;\n        // }\n        console.log(err);\n      }\n      return ;\n    }\n    this.oRouter.navigate([\"entities\"]);\n  }\n  locationError(error:any) {\n    console.log(error);\n    switch (error.code) {\n      case error.PERMISSION_DENIED:\n        this.sError = \"User denied the request for Geolocation.\";\n        break;\n      case error.POSITION_UNAVAILABLE:\n        this.sError = \"Location information is unavailable.\";\n        break;\n      case error.TIMEOUT:\n        this.sError = \"The request to get user location timed out.\";\n        break;\n      case error.UNKNOWN_ERROR:\n        this.sError = \"An unknown error occurred.\";\n        break;\n      default:\n        this.sError = \"???\";\n    }\n  }\n  fromOptions(options:any) {\n    return {\n      enableHighAccuracy: options.enableHighAccuracy,\n      timeout: undefined, //options.timeout._0 || Infinity,\n      maximumAge: options.maximumAge._0 || 0,\n    };\n  }\n  //function that gets the location and returns it\n  getPosition(): Promise<any> {\n    if (navigator.geolocation) {\n      return new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(\n          (resp) => {\n            resolve({ lng: resp.coords.longitude, lat: resp.coords.latitude });\n          },\n          (err) => {\n            reject(err);\n          }\n        );\n      });\n    }\n    console.log(\"FATAL getPosition failed.  navigator.geolocation is not persent, returing 0, 0\")\n    return new Promise((resolve) => { resolve({ lng: 0, lat: 0 }); })\n  }\n\n  // getLocation(): string {\n  //   Global_Variables.sCountry = 'IN';\n  //   return Global_Variables.sCountry;\n  //   // this.oAPIService.send2Server(\"https://ifconfig.co/country-iso\").then((s) => {\n  //   //   console.log(s);\n  //   //   this.sCountry = s;\n  //   //   Global_Variables.sCountry = this.sCountry;\n  //   //   this.bLoaded = true;\n  //   // })\n  // }\n  //function that retrieves the position\n  // showPosition(position) {\n  //   var me = this;\n\n  //   console.log(position);\n  //   me.dLat = position.coords.latitude;\n  //   me.dLong = position.coords.longitude;\n  //   const url = `https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${position.coords.latitude}&longitude=${position.coords.longitude}&localityLanguage=en`;\n  //   console.log(url);\n  //   me.oAPIService.send2Server(url).then((s) => {\n  //     console.log(s.countryCode);\n  //     me.sCountry = s.countryCode;\n  //     Global_Variables.sCountry = s.countryCode;\n  //     Global_Variables.sCity = s.city;\n  //     this.bLoaded = true;\n  //     // Global_Variables.sCountry = 'IN';\n  //     // this.oRouter.navigate(['entities']);\n  //     var location = {\n  //       longitude: position.coords.longitude,\n  //       latitude: position.coords.latitude\n  //     }\n  //     console.log(location)\n  //   });\n\n  // }\n}\n","<!-- <div>{{oErrorMessage}}</div>\n<div class=\"form-container\">\n  <json-schema-form [schema]=\"oFormSchema\" [layout]=\"oFormLayout\" [(data)]=\"oFormData\" framework=\"material-design\"\n    (onSubmit)=\"onFormSubmit($event)\" (isValid)=\"isFormValid($event)\" loadExternalAssets=\"true\">\n  </json-schema-form>\n</div> -->\n<!-- <div class=\"title\">\n  {{ \"My coordinates\" | lang: currentLang }}\n  <a\n    href=\"https://github.com/m-pavlov/angular-geolocation-pwa\"\n    class=\"github\"\n    target=\"_blank\"\n    >github</a\n  >\n</div> -->\n<!-- <app-view-type (choose)=\"onTypeChange($event)\"></app-view-type> -->\n\n<div *ngIf=\"bLoaded\">\n  <h5>Country {{ sCountry }}</h5>\n  <button id=\"action\" class=\"btn btn-orange btn-radius\" (click)=\"showEntities()\">Near Me</button>\n</div>\n<!-- \n\n<div *ngIf=\"errorType || !position\" class=\"errors\">\n  <div *ngIf=\"errorType === 'not-available'\">\n    {{\n      \"Sorry, geolocation is not available on your device\" | lang: currentLang\n    }}\n  </div>\n  <div *ngIf=\"errorType === 'failed'\">\n    {{ \"Sorry, we can't get your geolocation\" | lang: currentLang }}\n  </div>\n  <div *ngIf=\"errorType === 'permission'\">\n    {{ \"Please, allow the browser to know your location\" | lang: currentLang }}\n  </div>\n</div>\n<div *ngIf=\"position && !errorType\" class=\"position\">\n  <div class=\"label\">{{ \"Latitude\" | lang: currentLang }}</div>\n  <div class=\"values\" *ngIf=\"position.latitude !== null\">\n    <span *ngIf=\"viewType === 'decimal'\" class=\"value\">{{\n      position.latitude | decimal\n    }}</span>\n    <span *ngIf=\"viewType === 'minutes'\" class=\"value\">{{\n      position.latitude | minutes\n    }}</span>\n    <span *ngIf=\"position.latitude > 0\">{{ \"N\" | lang: currentLang }}</span>\n    <span *ngIf=\"position.latitude < 0\">{{ \"S\" | lang: currentLang }}</span>\n    <span *ngIf=\"position.accuracyLatitude !== null\" class=\"accuracy\">\n      &plusmn;\n      <span *ngIf=\"viewType === 'decimal'\">{{\n        position.accuracyLatitude | decimal\n      }}</span>\n      <span *ngIf=\"viewType === 'minutes'\">{{\n        position.accuracyLatitude | minutes\n      }}</span>\n    </span>\n  </div>\n  <div class=\"values\" *ngIf=\"position.latitude === null\">\n    <span class=\"value\">{{ \"not available\" | lang: currentLang }}</span>\n  </div>\n\n  <div class=\"values\" *ngIf=\"position.longitude !== null\">\n    <span *ngIf=\"viewType === 'decimal'\" class=\"value\">{{\n      position.longitude | decimal\n    }}</span>\n    <span *ngIf=\"viewType === 'minutes'\" class=\"value\">{{\n      position.longitude | minutes\n    }}</span>\n    <span *ngIf=\"position.latitude > 0\">{{ \"E\" | lang: currentLang }}</span>\n    <span *ngIf=\"position.latitude < 0\">{{ \"W\" | lang: currentLang }}</span>\n    <span *ngIf=\"position.accuracyLongitude !== null\" class=\"accuracy\">\n      &plusmn;\n      <span *ngIf=\"viewType === 'decimal'\">{{\n        position.accuracyLongitude | decimal\n      }}</span>\n      <span *ngIf=\"viewType === 'minutes'\">{{\n        position.accuracyLongitude | minutes\n      }}</span>\n    </span>\n  </div>\n  <div class=\"values\" *ngIf=\"position.longitude === null\">\n    <span class=\"value\">{{ \"not available\" | lang: currentLang }}</span>\n  </div>\n\n  <div class=\"label\">{{ \"Altitude\" | lang: currentLang }}</div>\n  <div class=\"values\" *ngIf=\"position.altitude !== null\">\n    <span class=\"value\">{{ position.altitude | decimal: true }}</span>\n    <span>{{ \"meters\" | lang: currentLang }}</span>\n    <span *ngIf=\"position.accuracyAltitude !== null\" class=\"accuracy\">\n      &plusmn;\n      {{ position.accuracyAltitude }}\n    </span>\n  </div>\n  <div class=\"values\" *ngIf=\"position.altitude === null\">\n    <span class=\"value\">{{ \"not available\" | lang: currentLang }}</span>\n  </div>\n</div>\n<div *ngIf=\"!bHasLocation\">\n  <p>Location Services</p>\n  <p>\n    Trying to obtain location. Ensure location services are enabled, and you are\n    in a place where the device can obtain your position.\n  </p>\n  <p>LOCATION SETTINGS ( TODO To take to location )</p>\n  <p (click)=\"getLocation()\">Click here</p>\n</div>\n<div *ngIf=\"!bLoaded && bHasLocation\">\n  <div class=\"center\">\n    <mat-progress-spinner\n      class=\"custom-spinner\"\n      diameter=\"40\"\n      mode=\"indeterminate\"\n    >\n    </mat-progress-spinner>\n  </div>\n  <p>{{ sError }}</p>\n</div> -->\n\n<div *ngIf=\"bLoaded\">\n  <div>\n    <p>Country {{ sCountry }}</p>\n  </div>\n  <!-- <button color=\"accent\" mat-raised-button round full (click)=\"showEntities()\">\n    Click here\n  </button> -->\n</div>\n<!-- <p>{{ errMsg }}</p> -->\n\n<!-- <div *ngIf=\"bLoaded\">\n  <img [src]=\"sImage\">\n</div> -->\n\n<!-- <div *ngIf=\"Global_Variables.isMobile == false\">\n  <p>Checking if it is Mobile Browser</p>\n</div> -->\n","//import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { NgModule } from '@angular/core';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatListModule } from '@angular/material/list';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n\n@NgModule({\n    imports: [\n        MatTableModule,\n        MatPaginatorModule,\n        MatToolbarModule,\n        MatSidenavModule,\n        MatListModule,\n        MatButtonModule,\n        MatIconModule,\n        MatCardModule,\n        MatSnackBarModule,\n        MatButtonToggleModule,\n        MatProgressSpinnerModule\n    ],\n    exports: [\n        MatTableModule,\n        MatPaginatorModule,\n        MatToolbarModule,\n        MatSidenavModule,\n        MatListModule,\n        MatButtonModule,\n        MatIconModule,\n        MatCardModule,\n        MatSnackBarModule,\n        MatButtonToggleModule,\n        MatProgressSpinnerModule\n\n    ],\n    // schemas: [CUSTOM_ELEMENTS_SCHEMA]\n\n})\n\nexport class MaterialModule { }\n","import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"minutes\",\n})\nexport class MinutesPipe implements PipeTransform {\n  transform(value: number): string|null {\n    let ret = null;\n\n    if (value) {\n      const degrees: number = Math.floor(value);\n      const decimal: number = value - degrees;\n      const minutes: number = Math.floor(decimal * 60);\n      const seconds: number =\n        Math.round((decimal - minutes / 60) * 3600 * 100) / 100;\n      const strDegrees: string = this.toStr(degrees);\n      const strMinutes: string = this.toStr(minutes);\n      const strSeconds: string = this.toStr(seconds, true);\n\n      ret = `${strDegrees}° ${strMinutes}' ${strSeconds}''`;\n    }\n\n    return ret;\n  }\n\n  toStr(value: number, isSeconds?: boolean): string {\n    let int = (\"\" + value).split(\".\")[0];\n\n    if (int.length === 1 && value >= 1) {\n      int = int.padStart(2, \"0\");\n    }\n    let decimal = (\"\" + value).split(\".\")[1];\n\n    if (decimal) {\n      decimal = decimal.padEnd(2, \"0\");\n    }\n\n    return isSeconds && decimal ? `${int}.${decimal}` : int;\n  }\n}\n","import { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { Global_Variables } from \"../../app/properties\";\nimport { MQTT_HOST, MQTT_PORT, MQTT_USESSL } from \"../../env.properties\";\n\n// import { LoginServiceProvider } from '../../providers/login-service/login-service';\n// import { ApiServiceProvider } from '../../providers/api-service/api-service';\nimport { APIService } from \"../api.service\";\nimport { Paho } from \"mosq-mqtt/mqttws31\";\nimport { MqttService } from \"abstract-mqtt\";\n//import { LeftPadPipe } from 'angular-pipes/src/string/left-pad.pipe';\nimport * as moment from \"moment\";\nimport { Location } from \"@angular/common\";\nimport { TitleBarService } from \"../title-bar.service\";\nimport { Time24to12FormatPipe } from \"../time24to12-format.pipe\";\n\n@Component({\n  selector: \"app-my-appointments\",\n  templateUrl: \"./my-appointments.component.html\",\n  styleUrls: [\"./my-appointments.component.scss\"],\n})\nexport class MyAppointmentsComponent extends MqttService implements OnInit {\n  sTitle = \"My Appointments\";\n  public override onConnectionStatusChange(sMqttStatus:any) {\n    this.oTBS.titleChange({ title: this.sTitle, status: sMqttStatus });\n  }\n\n  bLoaded: boolean = false;\n\n  oItems:any[] = [];\n\n  oOptions: any = {\n    useSSL: MQTT_USESSL,\n    userName: \"test\",\n    password: \"test12\",\n  };\n\n  constructor(\n    private oTBS: TitleBarService,\n    public oLocation: Location,\n    private oRouter: Router,\n    private oAPIService: APIService\n  ) {\n    super(MQTT_HOST, MQTT_PORT, Global_Variables, false);\n    this.onConnectionStatusChange(\"\");\n    super.setMqttOptions(this.oOptions);\n  }\n\n  oTodaysAppointment:any[] = [];\n  ngOnInit() {\n    try {\n      this.sMqttHost = \"\";\n      super.setConnect(false);\n    } catch (err) {}\n    this.oAPIService\n      .send2ServerP(\"services/appointments/mybookings/today\", true)\n      .then((data: any) => {\n        this.oTodaysAppointment = data.result;\n        if (this.oTodaysAppointment.length > 0) {\n//          var me = this;\n          this.sMqttHost = MQTT_HOST; //'m-ezq.ignorelist.com';\n          this.setConnect(true);\n          this.oTodaysAppointment.forEach((oItem) => {\n            //          console.log(oItem);\n            this.subscribe(\"AQ/\" + oItem.ENTITYID + \"/\" + oItem.SERVICEID);\n          });\n        }\n        this.bLoaded = true;\n      });\n    this.oAPIService\n      .send2ServerP(\"services/appointments/mybookings\", true)\n      .then((data: any) => {\n        this.oItems = data.result;\n        //      console.log(this.oItems) ;\n        this.bLoaded = true;\n      });\n  }\n\n  ngOnDestroy() {\n    try {\n      this.setConnect(false);\n    } catch (err) {}\n  }\n\n  sMqttHost = MQTT_HOST;\n  public override getMqttHost() {\n    //    console.log(this.sMqttHost);\n    return this.sMqttHost;\n  }\n\n  public override getUserName() {\n    //TODO get a new JWT token that expires in few minutes.\n    return Global_Variables.token?.['access_token'] || '';\n  }\n  onCancelAppointment(oItem: any) {\n    this.oAPIService\n      .send2ServerP(\"services/appointments/cancel\", true, { ID: oItem.ID })\n      .then((data: any) => {\n        this.ngOnInit();\n      });\n  }\n\n  processMessage(message: Paho.MQTT.Message) {\n    // ./pushMessage.sh 'CQ/1/11' '23,<LastQ>'\n    var t = super.getTopicPathInArray(message);\n    if (t[0] == \"ServerUp\") {\n      return;\n    }\n    if (t[0] == \"IP\") {\n      this.onConnectionStatusChange(m);\n      return;\n    }\n    var m = super.getMessageInArray(message);\n    if (t[0] == \"CQ\") {\n      // this.oItems.forEach((oItem) => {\n      //   if (oItem.ENTITYID == t[1] && oItem.SERVICEID == t[2])\n      //     oItem.moved = '**';\n      //   // oItem.CURRENTAQN = Number(m[0]);\n      //   // oItem.CURRENTAQN_T = this.padLeft(oItem.CURRENTQN, '0', 3);\n      // });\n      this.oTodaysAppointment.forEach((oItem) => {\n        //        console.log(oItem);\n        if (oItem.ENTITYID == t[1] && oItem.SERVICEID == t[2]) {\n          // oItem.CURRENTAQN = Number(m[0]);\n          // oItem.CURRENTAQN_T = oItem.CURRENTAQN;\n          oItem.moved = \"**\";\n          //          console.log(oItem);\n        }\n      });\n      return;\n    }\n    if (t[0] == \"AQ\") {\n      // Appointment\n      this.oTodaysAppointment.forEach((oItem) => {\n        //        console.log(oItem);\n        if (oItem.ENTITYID == t[1] && oItem.SERVICEID == t[2]) {\n          oItem.CURRENTAQN = Number(m[0]);\n          oItem.CURRENTAQN_T = oItem.CURRENTAQN;\n          oItem.moved = \"\";\n          //          console.log(oItem);\n        }\n      });\n    }\n  }\n}\n","<div *ngIf=\"bLoaded\" class=\"full-height\">\n  <div *ngIf=\"oItems.length == 0 && oTodaysAppointment.length == 0\">\n    <p class=\"centered-message\">You don't have any Appointments.</p>\n  </div>\n  <div *ngIf=\"oTodaysAppointment.length > 0\">Today's Appointments</div>\n  <mat-card appearance=\"outlined\" class=\"custom\" *ngFor=\"let o of oTodaysAppointment\">\n    <mat-card-title>\n      <div class=\"entity-title\">\n        {{o.ENAME}}<br>{{o.ADDRESS}}\n      </div>\n    </mat-card-title>\n    <mat-card-content>\n      <mat-grid-list cols=\"2\" rowHeight=\"4:1\">\n        <mat-grid-tile>Your Apt#</mat-grid-tile>\n        <mat-grid-tile>Current #</mat-grid-tile>\n      </mat-grid-list>\n      <mat-grid-list cols=\"2\" rowHeight=\"4:1\">\n        <!-- TODO Check with Time -->\n        <!-- <div text-center *ngIf=\"o.CURRENTAQN < o.AQNUMBER\" class=\"ksd-mq\">{{o.AQNUMBER}}\n            </div>\n            <div text-center *ngIf=\"o.CURRENTAQN > o.AQNUMBER\" class=\"ksd-mq-missed\">{{o.AQNUMBER}}\n            </div> -->\n        <!-- <div *ngIf=\"o.CURRENTAQN == o.AQNUMBER; else elseBlock\"><div class=\"ksd-mq-calling\">{{o.AQNUMBER}}</div></div>\n            <ng-template #elseBlock><div class=\"ksd-mq\">{{o.AQNUMBER}}</div>></ng-template> -->\n        <mat-grid-tile *ngIf=\"o.CURRENTAQN == o.AQNUMBER\" class=\"ksd-mq-calling\">{{o.AQNUMBER}}</mat-grid-tile>\n        <mat-grid-tile *ngIf=\"o.CURRENTAQN != o.AQNUMBER\" class=\"ksd-mq\">{{o.AQNUMBER}}</mat-grid-tile>\n        <mat-grid-tile class=\"ksd-cq\">{{o.CURRENTAQN}}{{o.moved}}</mat-grid-tile>\n      </mat-grid-list>\n      <mat-grid-list cols=\"1\" rowHeight=\"4:1\" *ngIf=\"o.CURRENTAQN != o.AQNUMBER\">\n        <mat-grid-tile><a color=\"accent\" mat-raised-button (click)=\"onCancelAppointment(o)\">Cancel Appointment</a>\n        </mat-grid-tile>\n      </mat-grid-list>\n      <!-- TODO once a new Queue number is called strike thru the Current # -->\n      <div *ngIf=\"o.moved == '**'\">** Another number called.</div>\n    </mat-card-content>\n  </mat-card>\n  <mat-divider></mat-divider>\n  <div *ngIf=\"oItems.length > 0\">Appointments</div>\n  <mat-card appearance=\"outlined\" *ngFor=\"let o of oItems\">\n    <mat-card-title>\n      <div class=\"entity-title\">{{o.ENAME }}<br>{{o.SNAME}}</div>\n    </mat-card-title>\n    <mat-card-content>\n      <mat-grid-list cols=\"1\" rowHeight=\"8:1\">\n        <mat-grid-tile>On {{o.ADATE  | date:'mediumDate' }} @ {{o.AQNUMBER | time24to12Format }}</mat-grid-tile>\n      </mat-grid-list>\n      <mat-grid-list cols=\"1\" rowHeight=\"8:1\">\n        <mat-grid-tile><a color=\"accent\" mat-raised-button (click)=\"onCancelAppointment(o)\">Cancel Appointment</a>\n        </mat-grid-tile>\n      </mat-grid-list>\n    </mat-card-content>\n  </mat-card>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-not-supported',\n  templateUrl: './not-supported.component.html',\n  styleUrls: ['./not-supported.component.scss']\n})\nexport class NotSupportedComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>Device Not Supported!</p>\n","import { Pipe, PipeTransform } from '@angular/core';\n// import {  } from \"rxjs/util/isNumeric\";\n//import * as rxjsNumeric from \"rxjs/util/isNumeric\"\n\n@Pipe({\n  name: 'hoursMinutesSeconds'\n})\nexport class HoursMinutesSecondsPipe implements PipeTransform {\n\n  transform(value: any, ...args: any[]): string {\n    // if ( isNumeric ( value ) == false )\n    //   return value ;\n    value = +value ;\n    let minutes = Math.floor(value / 60);\n    let hours = Math.floor(minutes / 60);\n    let seconds = Math.floor(value % 60);\n    minutes = Math.floor ( minutes % 60) ;\n    if (hours > 0)\n      return hours + \"h \" + minutes + \"m \" + seconds + \"s\";\n    else\n      return minutes + \"m \" + seconds + \"s\";\n  }\n}\n","import { NgModule } from '@angular/core';\n//import { CommonModule } from '@angular/common';\nimport { TimeFormatPipe } from './time-format.pipe';\nimport { TruncatePipe } from './truncate.pipe';\nimport { HoursMinutesSecondsPipe } from './hours-minutes-seconds.pipe';\n@NgModule({\n\tdeclarations: [TimeFormatPipe,\n    TruncatePipe,\n    HoursMinutesSecondsPipe],\n\timports: [],\n\texports: [TimeFormatPipe,\n    TruncatePipe,\n    HoursMinutesSecondsPipe]\n})\nexport class PipesModule {}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'timeFormat'\n})\nexport class TimeFormatPipe implements PipeTransform {\n\n  transform(value: unknown, ...args: unknown[]): unknown {\n    var i = Number(value) ;\n    var ampm = ( i >= 1200 ? 'pm' : 'am') ;\n    i = ( i >= 1300 ? i - 1200 : i ) ;\n    var s = i/100 | 0 ;    \n    var n = (i%100) <= 9 ? '0' + i%100 : i%100 ;\n    var a = ((s <= 9) ? ('      ' + s) : s) ;\n    return a + \":\" + n + \" \" + ampm;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'truncate'\n})\nexport class TruncatePipe implements PipeTransform {\n\n  transform(value: string, ...args: string[]): string {\n // transform(value: string, args: string[]): string {\n    let limit = args.length > 0 ? parseInt(args[0], 10) : 10;\n   // let trail = args.length > 1 ? args[1] : '...';\n//   return value.length > limit ? value.substring(0, limit) + trail : value;\n   \n    return value.length > limit ? value.substring(0, limit) : value;\n  }\n}\n","import { sEndPoint } from \"../env.properties\";\r\n//import { UUID } from \"angular2-uuid\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport const sURL = sEndPoint + \"api/\";\r\nexport const sIMAGE_URL = sEndPoint + \"image/\";\r\nexport var Global_Variables = {\r\n  iUserID: \"\",\r\n  sUserType: \"N\",\r\n  isConnected: true,\r\n  isMobile: false,\r\n  token: null,\r\n  DeviceID: \"None\",\r\n  oEID: -1,\r\n  sEntityID: 0,\r\n  //  oRItem: null,\r\n  //  oMenuItems: [],\r\n  sCurrentPage: \"entities\",\r\n  bSaved: false,\r\n  InstantQ: \"\",\r\n  sDeviceUUID: null,\r\n  sDeviceReg: null,\r\n  sCountry: \"\",\r\n  sCity: \"\",\r\n  sTZ: \"\",\r\n  sNewDeviceReg: \"\",\r\n  DOW: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"PH\"],\r\n  UUID: uuidv4(),\r\n//  AUTH_URL: \"auth\" // NodeJS\r\n  AUTH_URL: \"api/uuid/login\" // Rust\r\n};\r\n\r\nexport const sDOWNLOAD_URL = sEndPoint + \"download/uat/yq\";\r\n","import { Component, OnInit, OnDestroy } from \"@angular/core\";\n//import { sIMAGE_URL } from '../../app/properties';\n//import { Subscription } from \"rxjs\";\nimport * as moment from \"moment\";\nimport { MqttService } from \"abstract-mqtt\";\nimport { Router } from \"@angular/router\";\nimport { Global_Variables } from \"../../app/properties\";\nimport { APIService } from \"../api.service\";\nimport { Location } from \"@angular/common\";\nimport { Paho } from \"mosq-mqtt/mqttws31\";\nimport { MQTT_HOST, MQTT_PORT, MQTT_USESSL } from \"../../env.properties\";\n//import { MatGridList, MatGridTile } from \"@angular/material/grid-list\";\nimport { TitleBarService } from \"../title-bar.service\";\n//import { UUID } from \"angular2-uuid\";\nimport { v4 as uuidv4 } from 'uuid';\n\nconst bDebug = true;\n\n@Component({\n  selector: \"app-queue-status\",\n  templateUrl: \"./queue-status.component.html\",\n  // templateUrl: './test.html',\n  styleUrls: [\"./queue-status.component.scss\"],\n})\nexport class QueueStatusComponent\n  extends MqttService\n  implements OnInit, OnDestroy {\n  sTitle = \"Queue Status\";\n  //const REQUEUE_TEXT = 'Requeue' ;\n  //const REQUEING_TEXT = 'Processing..' ;\n\n  oOptions: any = {\n    useSSL: MQTT_USESSL,\n    userName: \"test\",\n    password: \"test12\",\n    //    reconnect: true\n  };\n\n  //  oEntity: any = {};\n  oItems: any[] = [];\n  bDisabled = true;\n  bLoaded: boolean = false;\n  bShowWaitTime = false;\n  //  sRequeueText = REQUEUE_TEXT ;\n  // private onResumeSubscription: Subscription;\n  // ngOnDestroy() {\n  //   // always unsubscribe your subscriptions to prevent leaks\n  //   this.onResumeSubscription.unsubscribe();\n  // }\n  sMqttHost = MQTT_HOST;\n  public override getMqttHost() {\n    return this.sMqttHost;\n  }\n\n  public override getClientID() {\n    //  super.sClientID = \"qs-\" + this.Global_Variables.UUID;\n    return uuidv4();\n  }\n  constructor(\n    private oTBS: TitleBarService,\n    public oLocation: Location,\n    public oRouter: Router,\n    public oAPIService: APIService\n  ) {\n    super(MQTT_HOST, MQTT_PORT, Global_Variables, false);\n    super.setMqttOptions(this.oOptions);\n    this.sMqttHost = MQTT_HOST; //'m-ezq.ignorelist.com';\n    this.oTBS.titleChange({ title: this.sTitle, status: super.getMqttStatus() });\n    // this.Global_Variables.UUID = undefined;\n    // try {\n    //   this.oAPIService.send2ServerP(\"mqtthost/\" + Global_Variables.oEID, true).then((data: any) => {\n    //     var o = data.result;\n    //     console.log(o);\n    //     if (o.length > 0) {\n    //       this.sMqttHost = o[0].MQTTHOST;\n    //       if (this.oItems.length > 0)\n    //         super.setConnect(true);\n    //       if (bDebug)\n    //         console.log(this.sMqttHost);\n    //     }\n    //     else\n    //       this.sMqttHost = 'm-ezq.ignorelist.com';\n    //   });\n    // }\n    // catch (err) {\n    //   console.error(err);\n    //   this.sMqttHost = 'm-ezq.ignorelist.com';\n    // }\n    //    this.oEntity = this.oLocation.getState();\n    //     this.onResumeSubscription = platform.resume.subscribe(() => {\n    // //      this.connect2MQTT();\n    //       this.subscribe(\"CQ/\" + this.oItems[0].ENTITYID + \"/#\");\n    //     });\n\n    // this.oAPIService.send2ServerP(\"mq\", true).then((data: any) => {\n    //   this.oItems = data.result;\n    //   this.bLoaded = true;\n    //   if (this.oItems.length > 0) {\n    //     /*\n    //       Topics:\n    //         Current Queue ( for all services )\n    //           CQ/<EntityID>/#\n    //     */\n    //     this.subscribe(\"CQ/\" + this.oItems[0].ENTITYID + \"/#\");\n    //   }\n    // });\n  }\n  public override getUserName() {\n    //TODO get a new JWT token that expires in few minutes.\n    return Global_Variables.token?.['access_token']|| '';\n  }\n\n  //  ionViewDidEnter() {\n  ngOnInit() {\n    this.bLoaded = false;\n    // this.setConnect(false);\n    this.setConnect(true);\n    // this.reconnect();\n    try {\n      this.oAPIService.send2ServerP(\"mq\", true).then((data: any) => {\n        this.oItems = data.result;\n        if (this.oItems.length > 0) {\n          this.oItems.forEach((oItem, index) => {\n            console.log(oItem);\n            oItem.QUEUEN_T = this.padLeft(oItem.QUEUEN, \"0\", 3);\n            oItem.CURRENTQN_T = this.padLeft(oItem.CURRENTQN, \"0\", 3);\n            oItem.LASTQ_T = this.padLeft(oItem.ISSUEDQN, \"0\", 3);\n            this.setCanQueueUpNow(oItem);\n            if (index == this.oItems.length - 1) {\n              setTimeout(() => {\n                this.bLoaded = true;\n              }, 500);\n            }\n          });\n          this.setConnect(true);\n          // this.reconnect();\n          this.oItems.forEach((oItem, index) => {\n            //          this.subscribe(\"CQ/\" + this.oItems[0].ENTITYID + \"/\" + oItem.SERVICEID);\n            this.subscribe(\"CQ/\" + oItem.ENTITYID + \"/\" + oItem.SERVICEID);\n            this.showFreeSlots(oItem, 0);\n          });\n        } else {\n          this.bLoaded = true;\n        }\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  }\n  delay(ms: number) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n  public override onConnectionStatusChange(sMqttStatus: any) {\n    this.oTBS.titleChange({ title: this.sTitle, status: sMqttStatus });\n  }\n  ngOnDestroy() {\n    try {\n      super.setConnect(false);\n      // super.disconnectMQTT();\n      console.log(\"Disconnected\")\n    } catch (err) {\n      //console.log(err);\n    }\n  }\n\n  padLeft(text: any, padChar: string, size: number): string {\n    return (String(padChar).repeat(size) + text).substr(size * -1, size);\n  }\n  processMessage(message: Paho.MQTT.Message) {\n    // ./pushMessage.sh 'CQ/1/11' '23,<LastQ>'\n    var t = super.getTopicPathInArray(message);\n    if (t[0] == \"ServerUp\") {\n      return;\n    }\n    if (t[0] == \"IP\") {\n      this.onConnectionStatusChange(m);\n      return;\n    }\n    var m = super.getMessageInArray(message);\n    console.log(m)\n    if (t[0] == \"CQ\") {\n      this.oItems.forEach((oItem) => {\n        // console.log(oItem);\n        if (oItem.ENTITYID == t[1] && oItem.SERVICEID == t[2]) {\n          oItem.CURRENTQN = Number(m[0]);\n          oItem.CURRENTQN_T = this.padLeft(oItem.CURRENTQN, \"0\", 3);\n          //          oItem.LASTQ = m[1] ;\n          oItem.LASTQ_T = this.padLeft(m[1], \"0\", 3);\n          oItem.bCanRequeue = Number(m[1]) > Number(oItem.QUEUEN) + 2;\n          if (oItem.CURRENTQN >= Number(oItem.QUEUEN))\n            oItem.bCanRequeue = false;\n          //TO ENABLE LATER\n          if (this.bShowWaitTime) this.onGetWaitTime(oItem);\n        }\n      });\n    }\n    // if (t[0] == 'AQ') { // Appointment\n    //   this.oItems.forEach((oItem) => {\n    //     if (oItem.ENTITYID == t[1] && oItem.SERVICEID == t[2]) {\n    //       oItem.CURRENTAQN = Number(m[0]);\n    //       oItem.CURRENTAQN_T = oItem.CURRENTAQN ;\n    //     }\n    //   });\n    // }\n  }\n\n  showFreeSlots(oItem: any, iDir:any) {\n    oItem.bShowFreeSlots = false;\n    oItem.oFreeSlots = [];\n    if (oItem.bClosed) return;\n    if (oItem.UsersInQ <= 1) return;\n\n    var sAPI = \"freeslotsfront/\";\n    if (iDir == 1) sAPI = \"freeslotsback/\";\n    this.oAPIService\n      .send2ServerP(\n        sAPI +\n          oItem.ENTITYID +\n          \"/\" +\n          oItem.SERVICEID +\n          \"/\" +\n          oItem.QUEUEN +\n          \"/\" +\n          oItem.CURRENTQN,\n        true,\n        { DIR: iDir }\n      )\n      .then((data: any) => {\n        oItem.oFreeSlots = data.result;\n        oItem.bShowFreeSlots = true;\n      })\n      .catch(() => {\n        oItem.bShowFreeSlots = true;\n      });\n  }\n\n  onGetWaitTime(oItem: any) {\n    this.oAPIService\n      .send2ServerP(\n        \"WaitTime/\" +\n          oItem.ENTITYID +\n          \"/\" +\n          oItem.SERVICEID +\n          \"/\" +\n          oItem.QUEUEN +\n          \"/\" +\n          oItem.CURRENTQN,\n        true\n      )\n      .then((data: any) => {\n        if (data === undefined) return;\n        //      console.log(JSON.stringify(data));\n        if (data.result[0].WAIT_TIME !== \"-1\")\n          //        oItem.EstimatedWait = '--';\n          //      else\n          oItem.EstimatedWait = Number(data.result[0].WAIT_TIME);\n        oItem.UsersInQ = data.result[0].USERSINQ;\n      });\n  }\n\n  onExchangeWith(oItem: any, oFreeItem: any) {\n    this.oAPIService\n      .send2ServerP(\n        \"exfreeq/\" +\n          oItem.ENTITYID +\n          \"/\" +\n          oItem.SERVICEID +\n          \"/\" +\n          oItem.QUEUEN +\n          \"/\" +\n          oFreeItem.UID +\n          \"/\" +\n          oFreeItem.AVAILABLEQN,\n        true\n      )\n      .then((data: any) => {\n        this.showFreeSlots(oItem, 0);\n        if (data._error) {\n          //        console.log(\"Exchanged Failed: \" + data._error);\n          //TODO add TOAST\n          alert(\"sorry, requested Q# was taken.\");\n          return;\n        }\n        oItem.QUEUEN = data.result[0].QUEUEN;\n        oItem.QUEUEN_T = this.padLeft(oItem.QUEUEN, \"0\", 3);\n        //TODO add TOAST\n        oItem.bShowFreeSlots = false;\n        if (this.bShowWaitTime) this.onGetWaitTime(oItem);\n      });\n  }\n\n  onExchangeQN(oItem: any) {\n    this.oRouter.navigateByUrl(\"exchange\", { state: oItem });\n  }\n\n  onGiveUpQ(oItem: any) {\n    this.oAPIService\n      .send2ServerP(\n        \"leaveq/\" + oItem.ENTITYID + \"/\" + oItem.SERVICEID + \"/\" + oItem.QUEUEN,\n        true\n      )\n      .then((data: any) => {\n        if (data._error === undefined) {\n          console.log(\"LeaveQ:  \" + JSON.stringify(data));\n          try {\n            super.setConnect(false);\n          } catch (err) {\n            //console.log(err);\n          }\n          this.ngOnInit();\n        } else {\n          if (bDebug) console.log(data);\n        }\n      });\n  }\n  onRequeue(oItem: any) {\n    var iNow = Number(moment().format(\"Hmm\"));\n    if (iNow >= oItem._TC) {\n      oItem.bClosed = true;\n      oItem.bCanRequeue = false;\n      return;\n    }\n    this.oAPIService\n      .send2ServerP(\n        \"qagain/\" + oItem.ENTITYID + \"/\" + oItem.SERVICEID + \"/\" + oItem.QUEUEN,\n        true\n      )\n      .then((data: any) => {\n        if (data._error === undefined) {\n          console.log(\"Requeue:  \" + JSON.stringify(data));\n          oItem.QUEUEN = data.result[0].QUEUEN;\n          oItem.QUEUEN_T = this.padLeft(oItem.QUEUEN, \"0\", 3);\n          oItem.bCanRequeue = false;\n          this.showFreeSlots(oItem, 0);\n          this.checkIfCanRequeue(oItem);\n        } else {\n          if (bDebug) console.log(data);\n        }\n      });\n  }\n\n  checkIfCanRequeue(oItem: any) {\n    this.oAPIService\n      .send2ServerP(\n        \"canqagain/\" +\n          oItem.ENTITYID +\n          \"/\" +\n          oItem.SERVICEID +\n          \"/\" +\n          oItem.QUEUEN,\n        true\n      )\n      .then((data: any) => {\n        oItem.bCanRequeue = data.result[0].COUNT == 0;\n      });\n  }\n\n  isClosedNow(oItem: any) {\n    oItem.bClosed = true;\n    oItem._BusinessHours.forEach((o:any) => {\n      var iNow = Number(moment(o.LOCAL_TIME).format(\"Hmm\"));\n      var iTO = Number(o.TIME_OPEN);\n      var iTC = Number(o.TIME_CLOSE);\n      if (iNow >= iTO && iNow <= iTC) {\n        oItem.TIME_OPEN = iTO;\n        oItem.TIME_CLOSE = iTC;\n        oItem.bClosed = false;\n        this.subscribe(\"CQ/\" + o.ENTITYID + \"/\" + o.SERVICEID);\n        oItem._TC = iTC;\n      }\n      oItem.bLoading = false;\n    });\n  }\n  setCanQueueUpNow(oItem: any) {\n    oItem.bLoading = true;\n    try {\n      this.oAPIService\n        .send2ServerP(\"q/opened/\" + oItem.ENTITYID + \"/\" + oItem.SERVICEID)\n        .then((data: any) => {\n          //     console.log(\"setCanQueueUpNow: \" + JSON.stringify(data.result));\n          if (data.result.length > 0) {\n            oItem._bQOpened = true;\n            oItem._BusinessHours = data.result;\n            this.isClosedNow(oItem);\n          }\n        });\n    } catch (err) {\n      console.error(err);\n    }\n  }\n}\n","<div *ngIf=\"bLoaded\" class=\"full-height\">\n  <div *ngIf=\"oItems.length == 0\">\n    <p class=\"centered-message\">\n      Currently you don't have any active Queue number(s).\n    </p>\n  </div>\n  <div *ngFor=\"let o of oItems\">\n    <div class=\"entity-title\">\n      {{ o.ENAME }}\n      <br />{{ o.ADDRESS }}\n    </div>\n    <mat-card appearance=\"outlined\">\n      <mat-card-title class=\"service-title\">\n        <mat-grid-list cols=\"2\" rowHeight=\"4:1\">\n          <mat-grid-tile>{{ o.NAME }}</mat-grid-tile>\n          <div *ngIf=\"!o.bClosed\" text-center class=\"ksd-smallfont\">\n            <mat-grid-tile\n              >{{ o.TIME_OPEN | timeFormat }} -\n              {{ o.TIME_CLOSE | timeFormat }}</mat-grid-tile\n            >\n          </div>\n          <div *ngIf=\"o.bClosed\">\n            <mat-grid-tile>closed</mat-grid-tile>\n          </div>\n        </mat-grid-list>\n      </mat-card-title>\n      <mat-card-content>\n        <mat-divider></mat-divider>\n        <mat-grid-list cols=\"2\" rowHeight=\"4:1\">\n          <mat-grid-tile>Your Q#</mat-grid-tile>\n          <mat-grid-tile *ngIf=\"!o.bClosed\">Now Servicing</mat-grid-tile>\n          <mat-grid-tile *ngIf=\"o.bClosed\">Last Serviced</mat-grid-tile>\n        </mat-grid-list>\n        <mat-grid-list cols=\"2\" rowHeight=\"4:1\">\n          <mat-grid-tile *ngIf=\"o.CURRENTQN &lt; o.QUEUEN\" class=\"ksd-mq\">\n            {{ o.PREFIX | lpad: 2:\" \" }}{{ o.QUEUEN_T }}<br />\n          </mat-grid-tile>\n          <mat-grid-tile *ngIf=\"o.CURRENTQN > o.QUEUEN\" class=\"ksd-mq-missed\">\n            {{ o.PREFIX | lpad: 2:\" \" }}{{ o.QUEUEN_T }}</mat-grid-tile\n          >\n          <mat-grid-tile\n            *ngIf=\"o.CURRENTQN == o.QUEUEN\"\n            class=\"ksd-mq-calling blinking\"\n          >\n            {{ o.PREFIX | lpad: 2:\" \" }}{{ o.QUEUEN_T }}</mat-grid-tile\n          >\n          <mat-grid-tile class=\"ksd-cq\"\n            >{{ o?.PREFIX | lpad: 2:\" \" }}{{ o?.CURRENTQN_T }}</mat-grid-tile\n          >\n        </mat-grid-list>\n        <mat-grid-list cols=\"2\" rowHeight=\"8:1\">\n          <mat-grid-tile *ngIf=\"o.CURRENTQN &lt; o.QUEUEN\" class=\"ksd-mq\">\n            <a\n              color=\"accent\"\n              mat-raised-button\n              round\n              full\n              (click)=\"o.bCanRequeue = false; onGiveUpQ(o)\"\n            >\n              Give Up Q#</a\n            >\n          </mat-grid-tile>\n        </mat-grid-list>\n        <mat-grid-list cols=\"1\" rowHeight=\"4:1\">\n          <mat-grid-tile\n            >Last in Q#\n            <span class=\"ksd-lq\"\n              >&nbsp;&nbsp;{{ o.PREFIX | lpad: 2:\" \"\n              }}{{ o.LASTQ_T }}&nbsp;&nbsp;</span\n            >\n          </mat-grid-tile>\n          <mat-grid-tile *ngIf=\"!o.bLoading\">\n            <!-- && o.CURRENTQN &lt; o.QUEUEN && !o.bClosed -->\n            <!-- <div>\n              <button color=\"accent\" mat-raised-button round full (click)=\"o.bCanRequeue = false; onGiveUpQ(o)\">\n                Give Up Q#</button>\n            </div> -->\n            <div *ngIf=\"!o.bClosed && o.bCanRequeue\">\n              <button\n                color=\"accent\"\n                mat-raised-button\n                round\n                full\n                (click)=\"o.bCanRequeue = false; onRequeue(o)\"\n              >\n                Requeue\n              </button>\n            </div>\n          </mat-grid-tile>\n        </mat-grid-list>\n        <mat-grid-list cols=\"3\" rowHeight=\"4:3\">\n          <mat-grid-tile *ngIf=\"o.Loading\">fetching...</mat-grid-tile>\n          <mat-grid-tile *ngIf=\"o.UsersInQ > 0\"\n            >{{ o.UsersInQ }} person(s) are in front</mat-grid-tile\n          >\n          <mat-grid-tile class=\"left\"> </mat-grid-tile>\n        </mat-grid-list>\n        <mat-grid-list\n          cols=\"3\"\n          rowHeight=\"4:1\"\n          *ngIf=\"!o.bClosed && o.UsersInQ > 1\"\n        >\n          <mat-grid-tile>\n            <a color=\"accent\" mat-raised-button round (click)=\"onExchangeQN(o)\">\n              <mat-icon svgIcon=\"ksd-exchange\"></mat-icon>\n            </a>\n          </mat-grid-tile>\n          <mat-grid-tile\n            ><a\n              color=\"accent\"\n              mat-raised-button\n              round\n              [disabled]=\"o.bShowFreeSlots == false\"\n              (click)=\"showFreeSlots(o, 0)\"\n            >\n              <mat-icon svgIcon=\"ksd-left\"></mat-icon> </a\n          ></mat-grid-tile>\n          <mat-grid-tile>\n            <a\n              color=\"accent\"\n              mat-raised-button\n              round\n              [disabled]=\"o.bShowFreeSlots == false\"\n              (click)=\"showFreeSlots(o, 1)\"\n            >\n              <mat-icon svgIcon=\"ksd-right\"></mat-icon>\n            </a>\n          </mat-grid-tile>\n          <mat-grid-tile *ngIf=\"o.bShowFreeSlots\">\n            <mat-grid-list class=\"ksd-items\" *ngFor=\"let oo of o.oFreeSlots\">\n              <mat-grid-tile>\n                <a\n                  color=\"accent\"\n                  mat-raised-button\n                  round\n                  full\n                  (click)=\"onExchangeWith(o, oo)\"\n                  >Exchange with Q# {{ o.PREFIX\n                  }}{{ oo?.AVAILABLEQN.toString() | lpad: 3:\"0\" }}\n                </a>\n              </mat-grid-tile>\n            </mat-grid-list>\n          </mat-grid-tile>\n        </mat-grid-list>\n      </mat-card-content>\n    </mat-card>\n  </div>\n</div>\n","import { Component } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-reach-us',\n  templateUrl: './reach-us.component.html',\n  styleUrls: ['./reach-us.component.scss']\n})\nexport class ReachUsComponent {\n\n  public form: FormGroup;\n  unsubcribe: any\n\n  public fields: any[] = [\n    {\n      type: 'text',\n      name: 'firstName',\n      label: 'First Name',\n      value: '',\n      required: true,\n    },\n    {\n      type: 'text',\n      name: 'lastName',\n      label: 'Last Name',\n      value: '',\n      required: true,\n    },\n    {\n      type: 'text',\n      name: 'email',\n      label: 'Email',\n      value: '',\n      required: true,\n    },\n\n    {\n      type: 'file',\n      name: 'picture',\n      label: 'Picture',\n      //      required: true,\n      onUpload: this.onUpload.bind(this)\n    },\n    {\n      type: 'dropdown',\n      name: 'country',\n      label: 'Country',\n      value: 'in',\n      required: true,\n      options: [\n        { key: 'in', label: 'India' },\n        { key: 'us', label: 'USA' }\n      ]\n    },\n    {\n      type: 'radio',\n      name: 'gender',\n      label: 'Gender',\n      value: 'm',\n      required: true,\n      options: [\n        { key: 'm', label: 'Male' },\n        { key: 'f', label: 'Female' }\n      ]\n    },\n    {\n      type: 'checkbox',\n      name: 'hobby',\n      label: 'Hobby',\n      required: true,\n      options: [\n        { key: 'f', label: 'Fishing' },\n        { key: 'c', label: 'Cooking' }\n      ]\n    }\n  ];\n\n  constructor() {\n    this.form = new FormGroup({\n      fields: new FormControl(JSON.stringify(this.fields))\n    })\n    this.unsubcribe = this.form.valueChanges.subscribe((update) => {\n      console.log(update);\n      this.fields = JSON.parse(update.fields);\n    });\n  }\n\n  onUpload(e:any) {\n    console.log(e);\n\n  }\n\n  getFields() {\n    return this.fields;\n  }\n\n  ngDistroy() {\n    this.unsubcribe();\n  }\n\n}\n","<div class=\"col-sm-12\">\n  <div class=\"card\">\n    <div class=\"card-header\">Reach Us</div>\n    <div class=\"card-body\">\n      <dynamic-form-builder [fields]=\"getFields()\"></dynamic-form-builder>\n    </div>\n  </div>\n</div>\n\n<div class=\"col-sm-12\">\n  <div class=\"form-group\" [formGroup]=\"form\">\n    <label>JSON</label>\n    <textarea formControlName=\"fields\" class=\"form-control\" rows=\"3\"></textarea>\n  </div>\n</div>\n\n<div>\n  {{fields | json }}\n</div>\n","import { Component, OnInit, OnDestroy } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { Global_Variables } from \"../../app/properties\";\nimport { MQTT_HOST, MQTT_PORT, MQTT_USESSL } from \"../../env.properties\";\nimport * as moment from \"moment-timezone\";\n//import countriesAndTimezones from \"countries-and-timezones\";\nimport { MqttService } from \"abstract-mqtt\";\nimport { APIService } from \"../api.service\";\nimport { Location } from \"@angular/common\";\nimport { Paho } from \"mosq-mqtt/mqttws31\";\n// import { MatGridList, MatGridTile } from \"@angular/material/grid-list\";\n// import { MatList, MatListItem } from \"@angular/material/list\";\nimport { TitleBarService } from \"../title-bar.service\";\n//import { UUID } from \"angular2-uuid\";\n\nconst NO_QUEUE_MESSAGE = \"Services are shown during Business Hours only\";\nconst NO_SERVICES_MESSAGE = \"No Services Defined\";\n\n@Component({\n  selector: \"app-services\",\n  templateUrl: \"./services.component.html\",\n  styleUrls: [\"./services.component.scss\"],\n})\nexport class ServicesComponent\n  extends MqttService\n  implements OnInit, OnDestroy {\n  sTitle: string = \"Services\";\n\n  sMessage: string|null = null;\n\n  products = [];\n  oEntity: any = {};\n  oItems: any[] = [];\n  bDisabled = true;\n  bLoaded: boolean = false;\n\n  bDebug = true;\n  // oItem: any = { CURRENTQN: 0, ISSUEDQN: 0 };\n  // oAItem: any = { CURRENTQN: 0, ISSUEDQN: 0 };\n  oService: any = {};\n  COUNTERN: number = -1;\n  //  bHasMore: boolean = false;\n  sEmail: string = \"\";\n  bIsServicingAppointment = false;\n\n  oOptions: any = {\n    useSSL: MQTT_USESSL,\n    userName: \"test\",\n    password: \"test12\",\n  };\n\n  //  bShouldConnect = false;\n\n  sMqttHost = MQTT_HOST;\n  public override getMqttHost() {\n    return this.sMqttHost;\n  }\n  public override getClientID() {\n    //  super.sClientID = \"qs-\" + this.Global_Variables.UUID;\n    // return uuidv4();\n    return \"qs-\" + Global_Variables.UUID;\n  }\n\n  // public getClientID() {\n  //   super.sClientID = \"svc-\" + this.Global_Variables.UUID;\n  //   return super.sClientID;\n  // }\n  constructor(\n    private oTBS: TitleBarService,\n    public oLocation: Location,\n    private oRouter: Router,\n    private oAPIService: APIService\n  ) {\n    super(MQTT_HOST, MQTT_PORT, Global_Variables, false);\n    this.oEntity = this.oLocation.getState();\n    if (this.oEntity.ID === undefined) {\n      this.oRouter.navigate([\"\"]);\n      return;\n    }\n    console.log(\">>>>> Entitiy\", this.oEntity.ID)\n    // this.Global_Variables.UUID = undefined;\n    super.setMqttOptions(this.oOptions);\n    this.COUNTERN = -1;\n\n    this.sMessage = null;\n\n    //    console.log(this.oEntity.ID, Global_Variables.oEID);\n    //this.sMqttHost = MQTT_HOST; //'m-ezq.ignorelist.com';\n    // this.oAPIService.send2ServerP(\"mqtthost/\" + this.oEntity.ID, true).then((data: any) => {\n    //   var o = data.result;\n    //   console.log(o);\n    //   if (o.length > 0) {\n    //     this.sMqttHost = o[0].MQTTHOST;\n    //     super.setConnect(true);\n    //     // super.setConnect(this.bShouldConnect);\n    //     console.log(this.sMqttHost);\n    //   }\n    // });\n    console.log(\">>>>> Entitiy\", this.oEntity.ID)\n\n    this.oAPIService\n      .send2ServerP(\"services/\" + this.oEntity.ID + \"/f\", true)\n      .then((data: any) => {\n        this.oItems = data.result;\n        this.sMessage = null;\n        //      console.log(this.oItems);\n        if (this.oItems.length > 0) {\n          // this.sMqttHost = this.oItems[0].MQTTHOST;\n          super.setConnect(true);\n          this.oItems.forEach((oItem, index) => {\n            //          console.log(\"*** \", oItem);\n            if (oItem._D.length > 0)\n              oItem._D[0].QUEUEN_T = this.padLeft(oItem._D[0].QUEUEN, \"0\", 3);\n            if ( oItem.ISSUEDQN !== null )\n            {\n              oItem.CURRENTQN_T = this.padLeft(oItem.CURRENTQN, \"0\", 3);\n              oItem.ISSUEDQN_T = this.padLeft(oItem.ISSUEDQN, \"0\", 3);\n            }\n            this.setCanQueueUpNow(oItem);\n            if (index == this.oItems.length - 1) {\n              setTimeout(() => {\n                this.bLoaded = true;\n              }, 500);\n            }\n          });\n          super.subscribe(\"CQ/\" + Global_Variables.oEID + \"/#\");\n        } else {\n          super.setConnect(false);\n          //        this.bShouldConnect = false;\n          this.sMessage = NO_SERVICES_MESSAGE;\n          this.bLoaded = true;\n        }\n      });\n  }\n\n  public override onConnectionStatusChange(sMqttStatus:any) {\n    this.oTBS.titleChange({ title: this.sTitle, status: sMqttStatus });\n  }\n  public override getUserName() {\n    //TODO get a new JWT token that expires in few minutes.\n    return Global_Variables.token?.['access_token']|| '';\n  }\n  goToStatus() {\n    // try {\n    //   super.setConnect(false);\n    // }\n    // catch (err) { }\n    this.oRouter.navigate([\"queuestatus\"]);\n  }\n  padLeft(text: any, padChar: string, size: number): string {\n    return (String(padChar).repeat(size) + text).substr(size * -1, size);\n  }\n  isClosedNow(oItem: any) {\n    oItem.bClosed = true;\n    oItem._BusinessHours.forEach((o: any) => {\n      //      console.log(o);\n      //get current time and check if it is inbetwen\n      var currentTime = moment(o.LOCAL_TIME).format(\"Hmm\");\n      // console.log ( \"TIMEZONE: \" +  moment().parseZone().localeData ) ;\n\n      var iNow = Number(currentTime);\n      var iTO = Number(o.TIME_OPEN);\n      var iTC = Number(o.TIME_CLOSE);\n      // console.log(\"Comparing: \" + currentTime + \" with \" + moment(o.TIME_OPEN).format(\"Hmm\") + \" and \" + moment(o.TIME_CLOSE).format(\"Hmm\"));\n      // if (moment(currentTime).isBetween(moment(o.TIME_OPEN, \"Hmm\"), moment(o, \"Hmm\")))\n      if (iNow >= iTO && iNow <= iTC) {\n        oItem.TIME_OPEN = iTO;\n        oItem.TIME_CLOSE = iTC;\n        //     console.log(\"Open NOW...\");\n        oItem.bClosed = false;\n      }\n      oItem.bLoading = false;\n    });\n  }\n\n  // onPurchase(oItem: any) {\n  //   //https://medium.com/@andrew.thielcole/in-app-purchases-with-ionic-3-af13b21f49f2\n  //   // ionic cordova plugin add cc.fovea.cordova.purchase --variable BILLING_KEY=\"<ANDROID_BILLING_KEY>\"\n  //   // $ npm install --save @ionic-native/in-app-purchase-2\n\n  // }\n  onBookAppointment(oItem: any) {\n    console.log(oItem);\n    //send oService\n    this.oRouter.navigateByUrl(\"appointment\", {\n      state: { oServiceItem: oItem, oEntityItem: this.oEntity },\n    });\n    //   this.navCtrl.setRoot('AppointmentPage') ;\n  }\n  onGetQN(oItem: any) {\n    //    this.oIAP.buy(this.products[0]).then(data => {\n    /*\n   data will contain {\n     transactionId: ...\n     receipt: ...\n     signature: ...\n   }\n */\n    this.oAPIService\n      .send2ServerP(\"gqn/\" + Global_Variables.oEID + \"/\" + oItem.ID, true)\n      .then((data: any) => {\n        if (data._error) {\n          console.error(data._error);\n          return;\n        }\n        // Required for Android.  However, can be called for iOS as well.\n        //      this.oIAP.consume ( data.productType, data.receipt, data.signature ) ;\n        this.goToStatus();\n      });\n    //  });\n  }\n  setCanQueueUpNow(oItem: any) {\n    oItem.bLoading = true;\n    this.oAPIService\n      .send2ServerP(\"q/opened/\" + Global_Variables.oEID + \"/\" + oItem.ID)\n      .then((data: any) => {\n        //      console.log(JSON.stringify(data.result));\n        if (data.result?.length > 0) {\n          //        this.zone.run(() => {\n          oItem._bQOpened = true;\n          oItem._BusinessHours = data.result;\n          this.isClosedNow(oItem);\n          //          console.log(\"Setting Opened = TRUE\");\n          //        });\n        } else {\n          oItem.bClosed = true;\n          oItem.PREFIX = \"\";\n          oItem.CURRENTQN_T = \"closed\";\n          oItem.ISSUEDQN_T = \"closed\";\n        }\n      });\n  }\n  async onBusinessHours(oItem: any) {\n    oItem.ENAME = this.oEntity.ENAME;\n    await this.oRouter.navigateByUrl(\"businesshours\", { state: oItem });\n  }\n\n  ngOnInit() {\n    var me = this ;\n    this.oTBS.oCurrentTitle.subscribe(obj => {\n      console.log(\"Connection\", obj)\n      setTimeout(() => {\n        this.sTitle = obj.title;\n      \n        me.oMqttStatus = obj.status;\n        // console.log(this.sColor, this.sMqttStatus);\n      }, 1);\n    });\n\n    // this.sMessage = null;\n    // if (this.bLoaded && this.oItems.length > 0) {\n    //   // this.bShouldConnect = true;\n    //   //      super.subscribe(\"CQ/\" + Global_Variables.oEID + \"/#\");\n    //   super.setConnect(true);\n    //   this.oItems.forEach(oItem => {\n    //     this.setCanQueueUpNow(oItem);\n    //   })\n    // }\n    // else {\n    //   this.sMessage = NO_SERVICES_MESSAGE;\n    // }\n  }\n  ngOnDestroy() {\n    try {\n      super.setConnect(false);\n      super.disconnectMQTT();\n    } catch (err) {\n      //      console.log(\"ERROR \", err);\n    }\n  }\n\n  processMessage(message: Paho.MQTT.Message) {\n    // ./pushMessage.sh 'CQ/1/11' '21,49'\n    //    var t = message.destinationName.split('/');\n    //    console.log(d[0] + \" \" + d[1] + \" \" + d[2]);\n    //    var m = message.payloadString.split(',');\n    //    console.log(m[0] + \" and \" + m[1]);\n    var t = super.getTopicPathInArray(message);\n    var m = super.getMessageInArray(message);\n\n    if (t[0] == \"ServerUp\") {\n      return;\n    }\n    if (t[0] == \"IP\") {\n      this.onConnectionStatusChange(m);\n      return;\n    }\n    if (t[0] == \"CQ\") {\n      this.oItems.forEach((oItem) => {\n        if (oItem.ID == t[2]) {\n          // if ( m[0] == '0' && m[1] == '0')\n          //   return ;\n          oItem.CURRENTQN = Number(m[0]);\n          oItem.CURRENTQN_T = this.padLeft(oItem.CURRENTQN, \"0\", 3);\n          oItem.ISSUEDQN = Number(m[1]);\n          oItem.ISSUEDQN_T = this.padLeft(oItem.ISSUEDQN, \"0\", 3);\n        }\n      });\n    }\n  }\n}\n","<!-- https://www.positronx.io/build-progressive-web-app-pwa-with-angular/ -->\n<!-- UI Testing \n  https://stackblitz.com/edit/angular-mat-card-example?file=src%2Fapp%2Fapp.component.html \n-->\n<!-- <mat-toolbar class=\"header\">\n  <mat-toolbar-row>\n    <span>Services</span>\n    <span class=\"fill-space\"></span>\n    <span class=\"ksd-mqtt-connected\">{{oMqttStatus}}</span>\n  </mat-toolbar-row>\n</mat-toolbar> -->\n<div *ngIf=\"bLoaded\" class=\"full-height\">\n  <div class=\"entity-title\">\n    {{oEntity.NAME}}\n    <br>{{oEntity.ADDRESS}}\n  </div>\n  <div *ngIf=\"sMessage != null\">\n    <p>{{sMessage}}</p>\n  </div>\n  <!-- <section *ngFor=\"let o of oItems\" padding=\"10px;\"> -->\n  <mat-card appearance=\"outlined\" *ngFor=\"let o of oItems\">\n    <!-- <mat-divider></mat-divider> -->\n    <mat-card-title class=\"service-title\">\n      <mat-grid-list cols=\"2\" rowHeight=\"4:1\">\n        <mat-grid-tile>{{o.NAME}}</mat-grid-tile>\n        <div *ngIf=\"!o.bClosed\" text-center class=\"ksd-smallfont\">\n          <mat-grid-tile>{{o.TIME_OPEN | timeFormat }} - {{o.TIME_CLOSE | timeFormat }}</mat-grid-tile>\n        </div>\n        <div *ngIf=\"o.bClosed\">\n          <mat-grid-tile>closed</mat-grid-tile>\n          <mat-grid-tile><a color=\"accent\" mat-raised-button (click)=\"onBusinessHours(o)\">Open Hours</a>\n          </mat-grid-tile>\n\n        </div>\n      </mat-grid-list>\n    </mat-card-title>\n    <mat-card-content>\n      <mat-grid-list cols=\"2\" rowHeight=\"4:1\">\n        <mat-grid-tile>Now AA Servicing</mat-grid-tile>\n        <mat-grid-tile>Last</mat-grid-tile>\n      </mat-grid-list>\n      <mat-grid-list cols=\"2\" rowHeight=\"4:1\">\n        <mat-grid-tile>{{o?.PREFIX | lpad: 2: ' '}}{{o?.CURRENTQN_T}}</mat-grid-tile>\n        <mat-grid-tile>{{o?.PREFIX | lpad: 2: ' '}}{{o?.ISSUEDQN_T}}</mat-grid-tile>\n      </mat-grid-list>\n      <mat-grid-list cols=\"2\" rowHeight=\"3:1\">\n        <div *ngIf=\"o._D.length == 0\">\n          <div *ngIf=\"!o.bClosed\">\n            <mat-grid-tile><a color=\"accent\" mat-raised-button (click)=\"onGetQN(o)\">Join Queue</a></mat-grid-tile>\n          </div>\n          <div *ngIf=\" o.bClosed\">\n            <mat-grid-tile>Closed</mat-grid-tile>\n          </div>\n        </div>\n        <div *ngIf=\"o._D.length > 0\">\n          <mat-grid-tile><a mat-button block color=\"accent\" (click)=\"goToStatus()\">Your Q#\n              {{o.PREFIX | lpad: 2: ' '}}{{o._D[0].QUEUEN_T}}</a>\n          </mat-grid-tile>\n        </div>\n        <mat-grid-tile><a color=\"accent\" mat-raised-button (click)=\"onBookAppointment(o)\">Book Appointment</a>\n        </mat-grid-tile>\n      </mat-grid-list>\n      <mat-divider></mat-divider>\n    </mat-card-content>\n  </mat-card>\n  <!-- </section> -->\n\n</div>\n\n\n<!-- <div>\n  <mat-card *ngFor=\"let o of oItems\">\n    <mat-card-content>\n      <mat-grid-list cols=\"2\" rowHeight=\"4:1\">\n        <mat-grid-tile><a color=\"accent\" mat-raised-button (click)=\"onEntityClick(o)\">Services</a>\n        </mat-grid-tile>\n        <mat-grid-tile><a color=\"accent\" mat-raised-button (click)=\"onBusinessHours(o)\">Open Hours</a>\n        </mat-grid-tile>\n      </mat-grid-list>\n    </mat-card-content>\n  </mat-card>\n</div> -->\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Global_Variables } from '../../app/properties';\nimport { APIService } from '../api.service';\nimport { AuthService } from '../auth.service';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst bDebug = true;\n\n@Component({\n  selector: 'app-take-queue',\n  templateUrl: './take-queue.component.html',\n  styleUrls: ['./take-queue.component.scss']\n})\nexport class TakeQueueComponent implements OnInit {\n\n  constructor(private activatedRoute: ActivatedRoute, private oRouter: Router, private oAPIService: APIService, private readonly oAuthService: AuthService) {\n  }\n\n  // http://d-ezq.ignorelist.com/?a75bc6ec-344a-006b-28b4-9e949866a485\n  // http://localhost:8888/#/takequeue?334b9a07-e8f6-f2a9-f837-14f4891a6ab9\n\n  ngOnInit(): void {\n    if (this.activatedRoute.snapshot.queryParamMap.keys !== undefined) {\n      Global_Variables.InstantQ = this.activatedRoute.snapshot.queryParamMap.keys[0];\n      if (Global_Variables.InstantQ !== undefined && Global_Variables.InstantQ.length > 2\n      ) {\n        var sCountry = \"SG\";\n        var lat = \"0.010\";\n        var lng = \"22.00\";\n        this.getInstantQNumber(Global_Variables.InstantQ, sCountry, lat, lng);\n      }\n    }\n    console.log(Global_Variables.InstantQ);\n  }\n\n  oDemographics: any;\n  async getInstantQNumber(sInstantQServiceID:any, sCountry:any, lat:any, lng:any) {\n    Global_Variables.InstantQ = ''; // reset\n    console.log(sInstantQServiceID);\n    Global_Variables.sCountry = sCountry;\n    // this.oDemographics = this.oAuthService.getDemographics();\n    // if (this.oDemographics !== undefined || this.oDemographics != null) {\n    //   Global_Variables.sCountry = this.oDemographics.sCountry;\n    // }\n    this.oAuthService.clearToken();\n    this.oAuthService.saveDemographics({\n      sCountry: Global_Variables.sCountry,\n      // lat: lat,\n      // lng: lng\n    });\n    var data: any = {};\n    // data.DEVICEUID = this.oAuthService.getDeviceID();\n    // if (data.DEVICEUID === undefined || data.DEVICEUID == null)\n    //   data.DEVICEUID = this.oAuthService.saveDeviceID(uuidv4());\n      data.email = this.oAuthService.getDeviceID();\n      if (data.email === undefined || data.email == null)\n      {\n        data.email = this.oAuthService.saveDeviceID(uuidv4());\n        data.password = data.email;\n      }\n      try {\n      await this.oAuthService.login(Global_Variables.AUTH_URL, data);\n    }\n    catch (err) {\n      console.error(err);\n    }\n\n    //    var b = await (this.oAuthService.loadUserInfo({}));\n    this.oAPIService.send2ServerP(\"instantqn/\" + sInstantQServiceID, true, { COUNTRY: sCountry }).then((d: any) => {\n      if (d._error)\n        console.error(d._error);\n      //   // TODO Handle Error Messages like\n      //   // EX_Q_UNAVAILABLE\n      //   // EX_Q_MAX_REACHED\n      //   if (data._error.indexOf(\"EX_Q_ALREADY_PRESENT\") == -1) {\n      //     // console.log(data._error);\n      //     // this.oRouter.navigateByUrl('entities');\n      //     return;\n      //   }\n      //    }\n      this.oRouter.navigateByUrl('queuestatus');\n    });\n  }\n}\n","<p>take-queue works!</p>\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'time24to12Format'\n})\nexport class Time24to12FormatPipe implements PipeTransform {\n  transform(time: any): any {\n    let ap = \"am\";\n    let t = +time;\n    if (t < 59)\n      t += 1200;\n    else {\n      if (t > 1159)\n        ap = \"pm\";\n      if (t > 1259) {\n        t -= 1200;\n      }\n    }\n    let sT = \"\" + t;\n    let position = sT.length - 2;\n    return time + \" ( \" + sT.substring(0, position) + \":\" + sT.substring(position) + \" \" + ap + \" ) \";\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TitleBarService {\n\n  private oTitleObject = new BehaviorSubject({ title: 'EzQueue', status: '' });\n  oCurrentTitle = this.oTitleObject.asObservable();\n\n  constructor() { }\n\n  titleChange(obj:any) {\n    this.oTitleObject.next(obj);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { SwPush } from '@angular/service-worker';\n@Injectable({\n  providedIn: 'root',\n})\n// https://medium.com/@arjenbrandenburgh/angulars-pwa-swpush-and-swupdate-15a7e5c154ac\n\nexport class WebNotificationService {\n  readonly VAPID_PUBLIC_KEY = '<VAPID-PUBLIC-KEY-HERE>';\n  private baseUrl = 'http://localhost:5000/notifications';\n  constructor(private http: HttpClient,\n              private swPush: SwPush) {}\n  subscribeToNotification() {\n    this.swPush.requestSubscription({\n        serverPublicKey: this.VAPID_PUBLIC_KEY\n    })\n    .then(sub => this.sendToServer(sub))\n    .catch(err => console.error('Could not subscribe to notifications', err));\n  }\n  sendToServer(params: any) {\n    this.http.post(this.baseUrl, { notification : params }).subscribe();\n  }\n}","export const sEndPoint = \"https://api.bullish.sg/\";\r\nexport const MQTT_HOST = 'msg.bullish.sg';\r\nexport const MQTT_PORT = 443;\r\nexport const MQTT_USESSL = true;\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","var map = {\n\t\"./af\": 5528,\n\t\"./af.js\": 5528,\n\t\"./ar\": 1036,\n\t\"./ar-dz\": 7579,\n\t\"./ar-dz.js\": 7579,\n\t\"./ar-kw\": 9588,\n\t\"./ar-kw.js\": 9588,\n\t\"./ar-ly\": 1650,\n\t\"./ar-ly.js\": 1650,\n\t\"./ar-ma\": 3258,\n\t\"./ar-ma.js\": 3258,\n\t\"./ar-sa\": 4085,\n\t\"./ar-sa.js\": 4085,\n\t\"./ar-tn\": 287,\n\t\"./ar-tn.js\": 287,\n\t\"./ar.js\": 1036,\n\t\"./az\": 9757,\n\t\"./az.js\": 9757,\n\t\"./be\": 9620,\n\t\"./be.js\": 9620,\n\t\"./bg\": 1139,\n\t\"./bg.js\": 1139,\n\t\"./bm\": 4042,\n\t\"./bm.js\": 4042,\n\t\"./bn\": 9641,\n\t\"./bn-bd\": 9126,\n\t\"./bn-bd.js\": 9126,\n\t\"./bn.js\": 9641,\n\t\"./bo\": 494,\n\t\"./bo.js\": 494,\n\t\"./br\": 934,\n\t\"./br.js\": 934,\n\t\"./bs\": 6274,\n\t\"./bs.js\": 6274,\n\t\"./ca\": 5831,\n\t\"./ca.js\": 5831,\n\t\"./cs\": 2354,\n\t\"./cs.js\": 2354,\n\t\"./cv\": 9692,\n\t\"./cv.js\": 9692,\n\t\"./cy\": 8774,\n\t\"./cy.js\": 8774,\n\t\"./da\": 8955,\n\t\"./da.js\": 8955,\n\t\"./de\": 1557,\n\t\"./de-at\": 4954,\n\t\"./de-at.js\": 4954,\n\t\"./de-ch\": 1881,\n\t\"./de-ch.js\": 1881,\n\t\"./de.js\": 1557,\n\t\"./dv\": 6475,\n\t\"./dv.js\": 6475,\n\t\"./el\": 8877,\n\t\"./el.js\": 8877,\n\t\"./en-au\": 454,\n\t\"./en-au.js\": 454,\n\t\"./en-ca\": 7356,\n\t\"./en-ca.js\": 7356,\n\t\"./en-gb\": 456,\n\t\"./en-gb.js\": 456,\n\t\"./en-ie\": 9481,\n\t\"./en-ie.js\": 9481,\n\t\"./en-il\": 5471,\n\t\"./en-il.js\": 5471,\n\t\"./en-in\": 9664,\n\t\"./en-in.js\": 9664,\n\t\"./en-nz\": 7672,\n\t\"./en-nz.js\": 7672,\n\t\"./en-sg\": 805,\n\t\"./en-sg.js\": 805,\n\t\"./eo\": 7390,\n\t\"./eo.js\": 7390,\n\t\"./es\": 1564,\n\t\"./es-do\": 1473,\n\t\"./es-do.js\": 1473,\n\t\"./es-mx\": 2089,\n\t\"./es-mx.js\": 2089,\n\t\"./es-us\": 4156,\n\t\"./es-us.js\": 4156,\n\t\"./es.js\": 1564,\n\t\"./et\": 6513,\n\t\"./et.js\": 6513,\n\t\"./eu\": 7856,\n\t\"./eu.js\": 7856,\n\t\"./fa\": 2378,\n\t\"./fa.js\": 2378,\n\t\"./fi\": 2687,\n\t\"./fi.js\": 2687,\n\t\"./fil\": 32,\n\t\"./fil.js\": 32,\n\t\"./fo\": 6845,\n\t\"./fo.js\": 6845,\n\t\"./fr\": 8875,\n\t\"./fr-ca\": 6425,\n\t\"./fr-ca.js\": 6425,\n\t\"./fr-ch\": 1746,\n\t\"./fr-ch.js\": 1746,\n\t\"./fr.js\": 8875,\n\t\"./fy\": 7037,\n\t\"./fy.js\": 7037,\n\t\"./ga\": 1217,\n\t\"./ga.js\": 1217,\n\t\"./gd\": 7010,\n\t\"./gd.js\": 7010,\n\t\"./gl\": 1931,\n\t\"./gl.js\": 1931,\n\t\"./gom-deva\": 4488,\n\t\"./gom-deva.js\": 4488,\n\t\"./gom-latn\": 8032,\n\t\"./gom-latn.js\": 8032,\n\t\"./gu\": 4984,\n\t\"./gu.js\": 4984,\n\t\"./he\": 9090,\n\t\"./he.js\": 9090,\n\t\"./hi\": 2085,\n\t\"./hi.js\": 2085,\n\t\"./hr\": 8787,\n\t\"./hr.js\": 8787,\n\t\"./hu\": 2901,\n\t\"./hu.js\": 2901,\n\t\"./hy-am\": 9819,\n\t\"./hy-am.js\": 9819,\n\t\"./id\": 4074,\n\t\"./id.js\": 4074,\n\t\"./is\": 715,\n\t\"./is.js\": 715,\n\t\"./it\": 3838,\n\t\"./it-ch\": 7040,\n\t\"./it-ch.js\": 7040,\n\t\"./it.js\": 3838,\n\t\"./ja\": 3180,\n\t\"./ja.js\": 3180,\n\t\"./jv\": 4346,\n\t\"./jv.js\": 4346,\n\t\"./ka\": 5538,\n\t\"./ka.js\": 5538,\n\t\"./kk\": 7108,\n\t\"./kk.js\": 7108,\n\t\"./km\": 7905,\n\t\"./km.js\": 7905,\n\t\"./kn\": 9125,\n\t\"./kn.js\": 9125,\n\t\"./ko\": 9140,\n\t\"./ko.js\": 9140,\n\t\"./ku\": 6780,\n\t\"./ku.js\": 6780,\n\t\"./ky\": 3768,\n\t\"./ky.js\": 3768,\n\t\"./lb\": 4016,\n\t\"./lb.js\": 4016,\n\t\"./lo\": 3169,\n\t\"./lo.js\": 3169,\n\t\"./lt\": 2353,\n\t\"./lt.js\": 2353,\n\t\"./lv\": 3243,\n\t\"./lv.js\": 3243,\n\t\"./me\": 2338,\n\t\"./me.js\": 2338,\n\t\"./mi\": 5555,\n\t\"./mi.js\": 5555,\n\t\"./mk\": 5794,\n\t\"./mk.js\": 5794,\n\t\"./ml\": 3151,\n\t\"./ml.js\": 3151,\n\t\"./mn\": 6458,\n\t\"./mn.js\": 6458,\n\t\"./mr\": 9165,\n\t\"./mr.js\": 9165,\n\t\"./ms\": 8680,\n\t\"./ms-my\": 7477,\n\t\"./ms-my.js\": 7477,\n\t\"./ms.js\": 8680,\n\t\"./mt\": 9684,\n\t\"./mt.js\": 9684,\n\t\"./my\": 285,\n\t\"./my.js\": 285,\n\t\"./nb\": 5922,\n\t\"./nb.js\": 5922,\n\t\"./ne\": 9040,\n\t\"./ne.js\": 9040,\n\t\"./nl\": 5066,\n\t\"./nl-be\": 4460,\n\t\"./nl-be.js\": 4460,\n\t\"./nl.js\": 5066,\n\t\"./nn\": 3693,\n\t\"./nn.js\": 3693,\n\t\"./oc-lnc\": 8676,\n\t\"./oc-lnc.js\": 8676,\n\t\"./pa-in\": 2341,\n\t\"./pa-in.js\": 2341,\n\t\"./pl\": 7416,\n\t\"./pl.js\": 7416,\n\t\"./pt\": 4344,\n\t\"./pt-br\": 113,\n\t\"./pt-br.js\": 113,\n\t\"./pt.js\": 4344,\n\t\"./ro\": 2643,\n\t\"./ro.js\": 2643,\n\t\"./ru\": 1305,\n\t\"./ru.js\": 1305,\n\t\"./sd\": 6095,\n\t\"./sd.js\": 6095,\n\t\"./se\": 4486,\n\t\"./se.js\": 4486,\n\t\"./si\": 8742,\n\t\"./si.js\": 8742,\n\t\"./sk\": 6722,\n\t\"./sk.js\": 6722,\n\t\"./sl\": 3345,\n\t\"./sl.js\": 3345,\n\t\"./sq\": 2416,\n\t\"./sq.js\": 2416,\n\t\"./sr\": 9450,\n\t\"./sr-cyrl\": 501,\n\t\"./sr-cyrl.js\": 501,\n\t\"./sr.js\": 9450,\n\t\"./ss\": 2222,\n\t\"./ss.js\": 2222,\n\t\"./sv\": 9454,\n\t\"./sv.js\": 9454,\n\t\"./sw\": 9638,\n\t\"./sw.js\": 9638,\n\t\"./ta\": 6494,\n\t\"./ta.js\": 6494,\n\t\"./te\": 4435,\n\t\"./te.js\": 4435,\n\t\"./tet\": 5003,\n\t\"./tet.js\": 5003,\n\t\"./tg\": 3706,\n\t\"./tg.js\": 3706,\n\t\"./th\": 6025,\n\t\"./th.js\": 6025,\n\t\"./tk\": 9780,\n\t\"./tk.js\": 9780,\n\t\"./tl-ph\": 2068,\n\t\"./tl-ph.js\": 2068,\n\t\"./tlh\": 9167,\n\t\"./tlh.js\": 9167,\n\t\"./tr\": 2494,\n\t\"./tr.js\": 2494,\n\t\"./tzl\": 8707,\n\t\"./tzl.js\": 8707,\n\t\"./tzm\": 1296,\n\t\"./tzm-latn\": 4532,\n\t\"./tzm-latn.js\": 4532,\n\t\"./tzm.js\": 1296,\n\t\"./ug-cn\": 2086,\n\t\"./ug-cn.js\": 2086,\n\t\"./uk\": 5069,\n\t\"./uk.js\": 5069,\n\t\"./ur\": 9304,\n\t\"./ur.js\": 9304,\n\t\"./uz\": 5115,\n\t\"./uz-latn\": 7609,\n\t\"./uz-latn.js\": 7609,\n\t\"./uz.js\": 5115,\n\t\"./vi\": 4802,\n\t\"./vi.js\": 4802,\n\t\"./x-pseudo\": 5605,\n\t\"./x-pseudo.js\": 5605,\n\t\"./yo\": 8456,\n\t\"./yo.js\": 8456,\n\t\"./zh-cn\": 3272,\n\t\"./zh-cn.js\": 3272,\n\t\"./zh-hk\": 9402,\n\t\"./zh-hk.js\": 9402,\n\t\"./zh-mo\": 4025,\n\t\"./zh-mo.js\": 4025,\n\t\"./zh-tw\": 262,\n\t\"./zh-tw.js\": 262\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6700;"],"names":["HttpClient","HttpHeaders","sURL","sIMAGE_URL","Global_Variables","sEndPoint","APIService","getUserID","iUserID","getUserType","sUserType","constructor","http","console","log","mergeJSON","target","add","isObject","obj","k","hasOwnProperty","key","performLogin","sService","data","post","toPromise","getHeaders","oHeaders","token","headers","send2Server","url","bPost","oItem","get","getURL","send2ServerNoHeader","send2ServerC","sPartialURL","send2ServerP","send2ServerPlainText","fileUpload","sUrl","formData","Headers","append","Promise","resolve","reject","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","open","send","buildImageURL","i","img","IMAGE_URL","undefined","startsWith","ID","sort","oData","oFields","a","b","length","retval","field","direction","stringToDate","_date","_format","_delimiter","formatLowerCase","toLowerCase","formatItems","split","dateItems","monthIndex","indexOf","dayIndex","yearIndex","month","parseInt","formatedDate","Date","setTime","oDate","sTime","timeReg","parts","match","hours","test","am","pm","minutes","setHours","setMinutes","setSeconds","setTime24Hrs","s","_","i0","ɵɵinject","_2","factory","ɵfac","providedIn","RouterModule","LoginComponent","AuthGuardService","EntitiesComponent","ServicesComponent","BusinessHoursComponent","MyAppointmentsComponent","QueueStatusComponent","AppointmentComponent","ContactUsComponent","ReachUsComponent","TakeQueueComponent","ClinicsComponent","NotSupportedComponent","routes","path","component","canActivate","redirectTo","AppRoutingModule","_3","forRoot","imports","i1","exports","ɵɵelementStart","ɵɵlistener","AppComponent_mat_icon_1_Template_mat_icon_click_0_listener","ɵɵrestoreView","_r3","ɵɵnextContext","_r1","ɵɵreference","ɵɵresetView","toggle","ɵɵtext","ɵɵelementEnd","AppComponent","oTBS","activatedRoute","matIconRegistry","domSanitizer","metaTagService","router","swPush","swUpdate","oWebNotificationService","deviceService","sTitle","sMqttStatus","isEnabled","isGranted","Notification","permission","isMobile","isMobileBrowser","addSvgIcon","bypassSecurityTrustResourceUrl","navigate","deviceInfo","getDeviceInfo","isTablet","isDesktopDevice","isDesktop","ngOnInit","addTags","name","content","scheme","charset","oCurrentTitle","subscribe","setTimeout","title","available","confirm","window","location","reload","snapshot","queryParams","parameter","ɵɵdirectiveInject","TitleBarService","i2","ActivatedRoute","i3","MatIconRegistry","i4","DomSanitizer","Meta","Router","i5","SwPush","SwUpdate","i6","WebNotificationService","i7","DeviceDetectorService","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵtemplate","AppComponent_mat_icon_1_Template","ɵɵelement","AppComponent_Template_a_click_11_listener","_r4","close","AppComponent_Template_a_click_14_listener","AppComponent_Template_a_click_17_listener","AppComponent_Template_a_click_20_listener","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate","CommonModule","BrowserModule","FormsModule","ReactiveFormsModule","BrowserAnimationsModule","MaterialModule","MatGridListModule","HttpClientModule","StorageServiceModule","NgPipesModule","ServiceWorkerModule","environment","PipesModule","FlexLayoutModule","MatCardModule","MatSidenavModule","HashLocationStrategy","LocationStrategy","MatDividerModule","Time24to12FormatPipe","DecimalPipe","MinutesPipe","LangPipe","AppModule","bootstrap","provide","useClass","register","enabled","production","declarations","moment","AppointmentComponent_div_0_div_10_Template_mat_button_toggle_click_1_listener","restoredCtx","_r10","o_r8","$implicit","ctx_r9","onDateClick","dow","ɵɵtextInterpolate1","value","date","ɵɵtextInterpolate2","ctx_r4","oSelectedDateItem","oSelectedTimeSlot","time_am_pm","AppointmentComponent_div_0_div_15_Template_a_click_1_listener","_r12","ctx_r11","confirmBooking","ctx_r6","bHasOpenAppointment","AppointmentComponent_div_0_mat_grid_list_16_mat_grid_tile_2_Template_a_click_1_listener","_r16","f_r14","ctx_r15","onSelectTimeSlot","ctx_r13","AppointmentComponent_div_0_mat_grid_list_16_mat_grid_tile_2_Template","ctx_r7","oFreeTimeSlots","AppointmentComponent_div_0_div_10_Template","AppointmentComponent_div_0_div_11_Template","AppointmentComponent_div_0_div_13_Template","AppointmentComponent_div_0_div_14_Template","AppointmentComponent_div_0_div_15_Template","AppointmentComponent_div_0_mat_grid_list_16_Template","ctx_r0","oEntity","ENAME","ADDRESS","NAME","oItems","onConnectionStatusChange","titleChange","oLocation","oRouter","oAPIService","sEntityID","sServiceID","bLoaded","oOpenHours","oState","getState","navigateByUrl","ENTITYID","groupByDay","groups","reduce","o","m","DAYOFWEEK","push","DOW","Number","result","Object","keys","map","today","dt","format","then","v","booked_times","DATE","forEach","e","UID","AQNUMBER","now","dtNow","isBefore","TIME_OPEN","concat","getUnbookedTime","TIME_CLOSE","oTimeSlot","TIME","db_time","_error","alert","getTime","num","tempHour","String","Math","trunc","hour","min","sAMPM","hr","time","getTimeSlots","blockTimes","showTimeAsString","interval","includeStartBlockedTime","includeEndBlockedTime","times","sums","me","start","dateTimes","Array","round","fill","isArray","acc","x","filter","y","accc","element","convertTime2Numbers","start_time","end_time","blocked_times","st","et","oFree","oAvailableTimes","Location","AppointmentComponent_Template","AppointmentComponent_div_0_Template","v4","uuidv4","authService","_this","_asyncToGenerator","checkAuthenticated","DEVICEUID","login","AUTH_URL","AuthService","BehaviorSubject","LOCAL_STORAGE","jwtDecode","STORAGE_KEY","DEMOGRAPICS","DEVICE_UID","oAPI","oStorage","isAuthenticated","clearToken","info","authenticated","exists","next","sRedirectURL","_this2","id","error","access_token","user_fields","JSON","parse","TYPE","set","err","Error","stringify","logout","redirect","_this3","remove","getDeviceID","saveDeviceID","sDeviceID","getDemographics","saveDemographics","bSaved","storeDeviceRegistrationInfo","sNewDeviceReg","sDeviceReg","loadUserInfo","_this4","ɵɵpipeBind1","o_r6","BusinessHoursComponent_div_0_mat_card_contents_7_mat_card_title_1_Template","ctx_r3","oToday","o_r9","BusinessHoursComponent_div_0_mat_grid_list_8_mat_list_item_5_Template","g_r7","BusinessHoursComponent_div_0_mat_card_title_5_Template","BusinessHoursComponent_div_0_mat_card_title_6_Template","BusinessHoursComponent_div_0_mat_card_contents_7_Template","BusinessHoursComponent_div_0_mat_grid_list_8_Template","oService","oEntities","oRoute","BusinessHoursComponent_Template","BusinessHoursComponent_div_0_Template","FormControl","MqttService","MQTT_HOST","MQTT_PORT","MQTT_USESSL","ClinicsComponent_div_0_div_8_div_6_Template_a_click_1_listener","_r19","o_r3","ctx_r17","onBusinessHours","ɵɵelementContainerStart","ɵɵelementContainerEnd","ɵɵpipeBind3","PREFIX","CURRENTQN_T","ISSUEDQN_T","ClinicsComponent_div_0_div_8_div_29_Template_a_click_1_listener","_r24","ctx_r23","goToStatus","_D","QUEUEN_T","ClinicsComponent_div_0_div_8_div_30_Template_a_click_1_listener","_r28","ctx_r26","onGetQN","ClinicsComponent_div_0_div_8_span_3_Template","ClinicsComponent_div_0_div_8_span_4_Template","ClinicsComponent_div_0_div_8_div_6_Template","ClinicsComponent_div_0_div_8_div_7_Template","ClinicsComponent_div_0_div_8_ng_container_20_Template","ClinicsComponent_div_0_div_8_ng_template_21_Template","ɵɵtemplateRefExtractor","ClinicsComponent_div_0_div_8_ng_container_24_Template","ClinicsComponent_div_0_div_8_ng_template_25_Template","ClinicsComponent_div_0_div_8_div_29_Template","ClinicsComponent_div_0_div_8_div_30_Template","ClinicsComponent_div_0_div_8_div_31_Template","ClinicsComponent_div_0_div_8_Template_a_click_33_listener","_r30","ctx_r29","onBookAppointment","bClosed","_r9","ClinicsComponent_div_0_Template_div_click_3_listener","_r32","oo_r1","ctx_r31","showDetails","ClinicsComponent_div_0_div_8_Template","ɵɵpureFunction2","_c0","bExpanded","oServices","NO_QUEUE_MESSAGE","NO_SERVICES_MESSAGE","getMqttHost","sMqttHost","getClientID","UUID","oAuthService","searchControl","sCountry","sTZ","sMessage","products","bDisabled","bDebug","COUNTERN","sEmail","bIsServicingAppointment","oOptions","useSSL","userName","password","bErrorLoading","load","_superprop_getSetConnect","setConnect","_superprop_getSubscribe","oEID","call","index","padLeft","QUEUEN","CURRENTQN","ISSUEDQN","setCanQueueUpNow","COUNTRY","catch","_ref","warn","email","_x","apply","arguments","getUserName","text","padChar","size","repeat","substr","isClosedNow","_BusinessHours","currentTime","LOCAL_TIME","iNow","iTO","iTC","bLoading","state","oServiceItem","oEntityItem","_bQOpened","ngOnDestroy","processMessage","message","t","getTopicPathInArray","getMessageInArray","features","ɵɵInheritDefinitionFeature","ClinicsComponent_Template","ClinicsComponent_div_0_Template","ContactUsComponent_div_4_Template_json_schema_form_dataChange_2_listener","$event","ctx_r2","oFormData","ContactUsComponent_div_4_Template_json_schema_form_onSubmit_2_listener","onFormSubmit","ContactUsComponent_div_4_Template_json_schema_form_isValid_2_listener","ctx_r5","isFormValid","ctx_r1","oFormSchema","oFormLayout","bMessageSent","_jsonURL","oErrorMessage","formObject","form","ContactUsComponent_Template","ContactUsComponent_div_1_Template","ContactUsComponent_div_4_Template","transform","isRound","accuracy","ret","rounded","str","padEnd","pure","EntitiesComponent_div_3_mat_card_1_Template_a_click_9_listener","_r6","o_r4","onEntityClick","EntitiesComponent_div_3_mat_card_1_Template","bTestIndia","EntitiesComponent_Template","EntitiesComponent_div_1_Template","EntitiesComponent_div_2_Template","EntitiesComponent_div_3_Template","Subject","GeoLocationService","location$","errors$","api","navigator","geolocation","getLocation","getCurrentPosition","success","bind","failed","enableHighAccuracy","timeout","payload","transformData","coords","code","latitude","longitude","altitude","accuracyLatitude","metersToLatitude","accuracyLongitude","metersToLongitude","accuracyAltitude","altitudeAccuracy","cos","PI","args","LoginComponent_div_0_Template_button_click_3_listener","showEntities","oGeoLocationService","sError","lat","lng","oDemographics","bHasLocation","errMsg","sImage","country_code","d","isMoble","getLocationGeoV2NotUsed","getPosition","pos","results","locations","adminArea1","_this5","locationError","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","fromOptions","options","maximumAge","_0","resp","LoginComponent_Template","LoginComponent_div_0_Template","LoginComponent_div_1_Template","MatTableModule","MatPaginatorModule","MatToolbarModule","MatListModule","MatButtonModule","MatIconModule","MatSnackBarModule","MatButtonToggleModule","MatProgressSpinnerModule","degrees","floor","decimal","seconds","strDegrees","toStr","strMinutes","strSeconds","isSeconds","int","padStart","MyAppointmentsComponent_div_0_mat_card_3_mat_grid_list_17_Template_a_click_2_listener","_r15","onCancelAppointment","MyAppointmentsComponent_div_0_mat_card_3_mat_grid_tile_13_Template","MyAppointmentsComponent_div_0_mat_card_3_mat_grid_tile_14_Template","MyAppointmentsComponent_div_0_mat_card_3_mat_grid_list_17_Template","MyAppointmentsComponent_div_0_mat_card_3_div_18_Template","CURRENTAQN","moved","MyAppointmentsComponent_div_0_mat_card_6_Template_a_click_14_listener","_r18","o_r16","SNAME","ɵɵpipeBind2","ADATE","MyAppointmentsComponent_div_0_div_1_Template","MyAppointmentsComponent_div_0_div_2_Template","MyAppointmentsComponent_div_0_mat_card_3_Template","MyAppointmentsComponent_div_0_div_5_Template","MyAppointmentsComponent_div_0_mat_card_6_Template","oTodaysAppointment","setMqttOptions","SERVICEID","CURRENTAQN_T","MyAppointmentsComponent_Template","MyAppointmentsComponent_div_0_Template","NotSupportedComponent_Template","HoursMinutesSecondsPipe","TimeFormatPipe","TruncatePipe","ampm","n","limit","substring","isConnected","DeviceID","sCurrentPage","InstantQ","sDeviceUUID","sCity","sDOWNLOAD_URL","QueueStatusComponent_div_0_div_2_mat_grid_tile_27_Template_a_click_1_listener","_r22","ctx_r20","bCanRequeue","onGiveUpQ","QueueStatusComponent_div_0_div_2_mat_grid_tile_34_div_1_Template_button_click_1_listener","_r26","ctx_r24","onRequeue","QueueStatusComponent_div_0_div_2_mat_grid_tile_34_div_1_Template","UsersInQ","QueueStatusComponent_div_0_div_2_mat_grid_list_39_mat_grid_tile_10_mat_grid_list_1_Template_a_click_2_listener","_r34","oo_r31","ctx_r32","onExchangeWith","AVAILABLEQN","toString","QueueStatusComponent_div_0_div_2_mat_grid_list_39_mat_grid_tile_10_mat_grid_list_1_Template","oFreeSlots","QueueStatusComponent_div_0_div_2_mat_grid_list_39_Template_a_click_2_listener","_r39","ctx_r37","onExchangeQN","QueueStatusComponent_div_0_div_2_mat_grid_list_39_Template_a_click_5_listener","ctx_r40","showFreeSlots","QueueStatusComponent_div_0_div_2_mat_grid_list_39_Template_a_click_8_listener","ctx_r42","QueueStatusComponent_div_0_div_2_mat_grid_list_39_mat_grid_tile_10_Template","bShowFreeSlots","QueueStatusComponent_div_0_div_2_div_10_Template","QueueStatusComponent_div_0_div_2_div_11_Template","QueueStatusComponent_div_0_div_2_mat_grid_tile_17_Template","QueueStatusComponent_div_0_div_2_mat_grid_tile_18_Template","QueueStatusComponent_div_0_div_2_mat_grid_tile_20_Template","QueueStatusComponent_div_0_div_2_mat_grid_tile_21_Template","QueueStatusComponent_div_0_div_2_mat_grid_tile_22_Template","QueueStatusComponent_div_0_div_2_mat_grid_tile_27_Template","QueueStatusComponent_div_0_div_2_mat_grid_tile_34_Template","QueueStatusComponent_div_0_div_2_mat_grid_tile_36_Template","QueueStatusComponent_div_0_div_2_mat_grid_tile_37_Template","QueueStatusComponent_div_0_div_2_mat_grid_list_39_Template","LASTQ_T","Loading","QueueStatusComponent_div_0_div_1_Template","QueueStatusComponent_div_0_div_2_Template","bShowWaitTime","getMqttStatus","delay","ms","onGetWaitTime","iDir","sAPI","DIR","WAIT_TIME","EstimatedWait","USERSINQ","oFreeItem","_TC","checkIfCanRequeue","COUNT","QueueStatusComponent_Template","QueueStatusComponent_div_0_Template","FormGroup","fields","type","label","required","onUpload","unsubcribe","valueChanges","update","getFields","ngDistroy","ReachUsComponent_Template","ServicesComponent_div_0_mat_card_6_div_6_Template_a_click_4_listener","_r11","ServicesComponent_div_0_mat_card_6_div_21_div_1_Template_a_click_2_listener","ctx_r14","ServicesComponent_div_0_mat_card_6_div_21_div_1_Template","ServicesComponent_div_0_mat_card_6_div_21_div_2_Template","ServicesComponent_div_0_mat_card_6_div_22_Template_a_click_2_listener","ctx_r18","ServicesComponent_div_0_mat_card_6_div_5_Template","ServicesComponent_div_0_mat_card_6_div_6_Template","ServicesComponent_div_0_mat_card_6_div_21_Template","ServicesComponent_div_0_mat_card_6_div_22_Template","ServicesComponent_div_0_mat_card_6_Template_a_click_24_listener","ctx_r21","ServicesComponent_div_0_div_5_Template","ServicesComponent_div_0_mat_card_6_Template","oMqttStatus","disconnectMQTT","ServicesComponent_Template","ServicesComponent_div_0_Template","queryParamMap","getInstantQNumber","sInstantQServiceID","TakeQueueComponent_Template","ap","sT","position","oTitleObject","asObservable","VAPID_PUBLIC_KEY","baseUrl","subscribeToNotification","requestSubscription","serverPublicKey","sub","sendToServer","params","notification","enableProdMode","__NgCli_bootstrap_1","platformBrowser","bootstrapModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[47]}